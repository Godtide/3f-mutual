{"version":3,"sources":["connectors/NetworkWithSigner/PrivateKeyProvider.js","assets/jumbotron-background.svg","assets/illustration.png","assets/sai.png","assets/background.svg","utils/signer.js","utils/index.js","constants/index.js","contexts/insurance.js","contexts/profile.js","contexts/3Box.js","connectors/Injected/index.js","connectors/NetworkWithSigner/index.js","connectors/Walletconnect/http.js","connectors/Walletconnect/WalletConnectProvider.js","connectors/Walletconnect/index.js","connectors/index.js","components/Container.js","components/ClickAwayListener.js","components/Web3Status.js","components/Text.js","assets/logo.svg","assets/clock.svg","components/Header.js","components/Footer.js","components/Bold.js","assets/ethereum.svg","components/EthereumIcon.js","components/Jumbotron.js","components/Banner.js","components/Tabs.js","components/TabPanel.js","components/Box.js","components/LineChart.js","components/Card.js","components/CardContent.js","components/Divider.js","components/TextField.js","components/Button.js","components/PurchaseForm.js","components/WithdrawForm.js","components/ClaimForm.js","components/AgentCard.js","components/RegisterForm.js","components/ProgressBar.js","assets/copy.svg","components/Profile.js","utils/calculation.js","pages/Home.js","hooks/ethereum.js","pages/Referral.js","components/Web3Manager.js","themes/GlobalStyle.js","themes/index.js","App.js","serviceWorker.js","i18n.js","index.js"],"names":["PrivateKeyProvider","privateKey","providerUrl","Error","this","wallet","EthereumjsWallet","fromPrivateKey","Buffer","replace","address","getAddress","toString","engine","ProviderEngine","addProvider","FiltersSubprovider","NonceSubprovider","WalletSubprovider","RpcSubprovider","rpcUrl","prototype","sendAsync","apply","arguments","send","module","exports","UncheckedJsonRpcSigner","signer","ethers","defineReadOnly","provider","transaction","sendUncheckedTransaction","then","hash","nonce","gasLimit","gasPrice","data","value","chainId","confirmations","from","wait","waitForTransaction","message","signMessage","delay","ms","Promise","res","setTimeout","safeAccess","object","path","reduce","accumulator","currentValue","isAddress","utils","shortenAddress","digits","substring","ETHERSCAN_PREFIXES","1","3","4","5","42","getEtherscanLink","networkId","type","prefix","getContract","abi","library","account","constants","AddressZero","Contract","getSigner","getProviderOrSigner","amountFormatter","amount","baseDecimals","displayDecimals","isZero","x","BigNumber","amountDecimals","decimalPlaces","precision","div","pow","toFixed","leftPad","s","padStart","formatUTC0","timestamp","hideTime","date","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","INSURANCE_ADDRESSES","insuranceRatesByDay","InsuranceContext","createContext","useInsuranceContext","useContext","reducer","state","payload","pot","totalShares","totalInsurances","totalAgents","sharePrice","ended","expiringUnits","blockNumber","shares","insurances","lastBought","dividends","bonus","Provider","children","useState","refreshCount","setRefreshCount","refresh","useCallback","useReducer","dispatch","updateSystem","updateUser","useMemo","Updater","useWeb3React","systemBlockNumber","userBlockNumber","useEffect","checkIsClaimable","a","contract","callStatic","claim","stale","INSURANCE_ABI","all","pool","issuedInsurance","agents","getBuyPrice","getExpiringUnitList","getBlockNumber","price","expiringUnitList","catch","player","getCurrentUnit","mask","getExpiringUnitListPlayer","Zero","mul","WeiPerEther","sub","plyrLastSeen","ref","ProfileContext","id","name","level","points","pointsMax","update","useProfile","updateProfile","requirement","parseBytes32String","accumulatedRef","ThreeBoxContext","INITIAL_STATE","active","isLoggedIn","box","profile","web3Active","activate","window","Box","openBox","ethereum","getProfile","syncDone","NoEthereumProviderError","constructor","UserRejectedRequestError","InjectedConnector","kwargs","handleConnect","bind","handleNetworkChanged","handleChainChanged","handleAccountsChanged","handleClose","process","emitUpdate","accounts","length","emitDeactivate","code","reason","autoRefreshOnNetworkChange","on","isTrust","enable","response","result","error","method","removeListener","AbstractConnector","wwindow","XHR","XMLHttpRequest","HTTPConnection","url","post","body","headers","jsonrpc","internal","resolve","formatError","xhr","responded","err","abort","JSON","stringify","e","open","timeout","onerror","ontimeout","onreadystatechange","readyState","parse","responseText","EventEmitter","WalletConnectProvider","opts","pollingInterval","bridge","qrcode","rpc","infuraId","trim","wc","WalletConnect","isConnecting","connected","isWalletConnect","connectCallbacks","updateRpcUrl","FixtureSubprovider","eth_hashrate","eth_mining","eth_syncing","net_listening","web3_clientVersion","CacheSubprovider","SubscriptionsSubprovider","FilterSubprovider","HookedWalletSubprovider","getAccounts","cb","getWalletConnector","processMessage","msgParams","processPersonalMessage","signPersonalMessage","processSignTransaction","txParams","signTransaction","processTransaction","sendTransaction","processTypedMessage","signTypedData","handleRequest","next","end","setEngine","_","reject","start","subscribeWalletConnector","callback","params","push","forEach","disableSessionCreation","killSession","stop","emit","close","handleOtherRequests","formatResponse","startsWith","handleReadRequests","sendCustomRequest","http","onConnect","updateState","session","sessionRequestOpions","undefined","createSession","WalletConnectQRCodeModal","uri","triggerConnect","sessionParams","infuraNetworks","network","updateHttpConnection","WalletConnectConnector","invariant","Object","keys","supportedChainIds","map","k","Number","handleDisconnect","walletConnectProvider","RPC_URLS","injected","NetworkConnector","urls","defaultChainId","walletconnect","Container","styled","props","css","maxWidth","flex","direction","wrap","justifyContent","alignItems","ClickAwayListener","onClickAway","mouseEvent","touchEvent","node","useRef","handleEvents","event","current","contains","target","document","addEventListener","removeEventListener","Button","button","theme","colors","white","transparentize","indicator","MenuWrapper","Menu","isOpen","MenuHeader","gray","MenuItem","black","ConnectorIndicator","span","success","Web3Status","connector","deactivate","setIsOpen","isConnectedMetaMask","isConnectedWalletconnect","connectMetaMask","connectWalletconnect","disconnect","onClick","getNetworkName","Text","p","textColor","_extends","assign","i","source","key","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","stroke","strokeWidth","fill","fillRule","transform","fillOpacity","cx","cy","r","_ref","svgRef","title","width","height","viewBox","ForwardRef","forwardRef","strokeLinecap","strokeLinejoin","className","HeaderWrapper","header","headerBackground","HeaderSpace","LogoWrapper","LogoText","HeaderGroup","Link","mediaQuery","sm","StyledClockIcon","ClockIcon","ClockWrapper","Header","now","setNow","clearTimeout","href","FooterWrapper","footer","buttonBackground","Footer","Bold","b","d","opacity","Icon","Ethereum","JumbotronWrapper","section","primary","JumbotronImage","Headline","h1","md","breathe","keyframes","Bulletin","Illustration","Strong","Jumbotron","odd","EthereumIcon","src","IllustrationImage","alt","BannerWrapper","BannerContainer","BannerItem","article","Title","NumberText","Banner","TabsWrapper","nav","tabsBackground","TabList","Tab","attrs","badge","Tabs","items","onChange","handleTabClick","tabIndex","item","index","text","number","TabPanel","minHeight","mt","my","ml","mx","mb","mr","pt","py","pl","px","pb","pr","Plot","createPlotlyComponent","Plotly","StyledPlot","layout","xaxis","rangemode","dtick","fixedrange","showline","autoMargin","yaxis","yaxis2","showgrid","titlefont","color","tickfont","overlaying","side","legend","orientation","xanchor","y","yanchor","paper_bgcolor","plot_bgcolor","margin","l","t","font","size","config","responsive","displayModeBar","LineChart","chartStyles","value2","chart2Styles","v","x2","mode","Card","CardContent","Divider","divider","InputField","Label","label","Input","input","TextField","multiline","inputProps","as","pulse","buttonText","Summary","PurchaseForm","paid","onSubmit","setAmount","period","setPeriod","isPending","setIsPending","errorMessage","setErrorMessage","parseFloat","onPurchase","isNaN","rel","placeholder","step","Math","min","abs","round","disabled","WithdrawForm","total","onClickButton","ClaimForm","estimatedCompensation","canClaim","Row","Avatar","img","NoteText","Greeting","AgentCard","isAgent","greeting","image","RuleItem","li","RegisterForm","setName","formatErrors","setFormatErrors","errorCodes","test","endsWith","includes","Tracker","ProgressInTracker","percentage","ProgressPercentage","ProgressBar","rx","ry","ProfileRow","LinkRow","LinkBox","CopyButton","TextBlock","SmallButton","EditButton","TextButton","StyledCopyIcon","CopyIcon","domain","Profile","canUpgrade","onUpgrade","avatar","remark","onSaveRemark","handleUpgrade","isEditable","setIsEditable","localRemark","setLocalRemark","canSave","isSaving","setIsSaving","saveError","setSaveError","handleSave","calculateLeftUnits","lefted","arr","slice","add","calculateUnderlyingEth","c1","c2","times","plus","shiftedBy","FormGroup","SubTitle","Anchor","WarningMessage","ActionGroup","agentReducer","renderTransactionActions","Home","useSnackbar","enqueueSnackbar","closeSnackbar","readOnlyLibrary","useInsuranceSystem","Array","useInsuranceUser","userExpiringUnits","refreshProfile","setRemark","getSpace","space","console","log","openSpace","public","set","agentAddress","localStorage","getItem","agentState","dispatchAgentState","agentId","agentName","agentLevel","agentImage","agentGreeting","contentUrl","estimatedFutureCompensation","estimatedUserCompensation","withSignerIfPossible","useContract","setPaid","estimatePaid","days","computedShares","basePrice","minus","discount","purchase","tx","firstSnackbar","variant","persist","action","autoHideDuration","withdraw","register","parseEther","upgrade","tabs","setTabIndex","role","aria-label","saiImage","toNumber","formatEther","marker","line","fillcolor","gte","Referral","slug","useRouteMatch","isFinished","setIsFinish","match","parseInt","agentxID_","formatBytes32String","agentxName_","setItem","getAgentInfo","to","Web3Manager","suppress","injectedConnector","useInactiveListener","setError","tried","setTried","isAuthorized","useEagerConnect","activeReadOnly","connectorReadOnly","activateReadOnly","changeChainId","networkConnector","useReadOnlyConnect","UnsupportedChainIdError","GlobalStyle","createGlobalStyle","backgroundColor","backgroundImage","breakpoints","xs","lg","xl","fontFamilies","ThemeProvider","Web3ReadOnlyProvider","createWeb3ReactRoot","getLibrary","providers","Web3Provider","ContextProviders","Updaters","Router","fallback","exact","App","anchorOrigin","vertical","horizontal","Boolean","location","hostname","i18next","use","LanguageDetector","initReactI18next","init","backend","loadPath","react","useSuspense","lng","fallbackLng","preload","keySeparator","interpolation","escapeValue","ReactGA","initialize","createBrowserHistory","listen","page","pathname","pageview","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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AAIJ,IAqCtE,SAASU,EAAQC,GACf,OAAOA,EAAEtF,WAAWuF,SAAS,EAAG,KAG3B,SAASC,IAA6C,IAAlCC,EAAiC,uDAArB,EAAGC,EAAkB,wDACpDC,EAAO,IAAIC,KAAKH,GAEtB,OAAIC,EACI,GAAN,OAAUC,EAAKE,iBAAf,YAAmCR,EAAQM,EAAKG,cAAgB,GAAhE,YAAsET,EAAQM,EAAKI,eAG/E,GAAN,OAAUJ,EAAKE,iBAAf,YAAmCR,EAAQM,EAAKG,cAAgB,GAAhE,YAAsET,EAAQM,EAAKI,cAAnF,YAAoGV,EAAQM,EAAKK,eAAjH,YAAmIX,EAAQM,EAAKM,iBAAhJ,YAAoKZ,EAAQM,EAAKO,iBAAjL,YClMK,IAGMC,EAAsB,CACjC7C,EAAG,6CACHI,GAAI,8CAGO0C,EAAsB,CACjC,IACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,wB,QCvFIC,EAAmBC,0BAElB,SAASC,IACd,OAAOC,qBAAWH,GAGpB,SAASI,EAAQC,EAAjB,GAA4C,IAAlB7C,EAAiB,EAAjBA,KAAM8C,EAAW,EAAXA,QAC9B,OAAQ9C,GACN,IAXkB,gBAWG,IAEjB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","file":"static/js/main.10b668fe.chunk.js","sourcesContent":["import ProviderEngine from 'web3-provider-engine'\nimport FiltersSubprovider from 'web3-provider-engine/subproviders/filters'\nimport WalletSubprovider from 'web3-provider-engine/subproviders/wallet'\nimport RpcSubprovider from 'web3-provider-engine/subproviders/rpc'\nimport EthereumjsWallet from 'ethereumjs-wallet'\nimport NonceSubprovider from 'web3-provider-engine/subproviders/nonce-tracker'\n\nfunction PrivateKeyProvider(privateKey, providerUrl) {\n  if (!privateKey) {\n    throw new Error(\n      `Private Key missing, non-empty string expected, got '${privateKey}'`,\n    )\n  }\n\n  if (!providerUrl) {\n    throw new Error(\n      `Provider URL missing, non-empty string expected, got '${providerUrl}'`,\n    )\n  }\n\n  this.wallet = EthereumjsWallet.fromPrivateKey(\n    new Buffer(privateKey.replace('0x', ''), 'hex'),\n  )\n  this.address = '0x' + this.wallet.getAddress().toString('hex')\n  this.engine = new ProviderEngine()\n\n  this.engine.addProvider(new FiltersSubprovider())\n  this.engine.addProvider(new NonceSubprovider())\n  this.engine.addProvider(new WalletSubprovider(this.wallet, {}))\n  this.engine.addProvider(new RpcSubprovider({ rpcUrl: providerUrl }))\n}\n\nPrivateKeyProvider.prototype.sendAsync = function() {\n  this.engine.sendAsync.apply(this.engine, arguments)\n}\n\nPrivateKeyProvider.prototype.send = function() {\n  return this.engine.send.apply(this.engine, arguments)\n}\n\nexport default PrivateKeyProvider\n","module.exports = __webpack_public_path__ + \"static/media/jumbotron-background.02fad98e.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAD6CAYAAAAbbXrzAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAABLKADAAQAAAABAAAA+gAAAAA2QfmBAAAcQUlEQVR4Ae3daWwc533H8f/M3stdHqKoy5SlyPIRWXac2EiiBEXc5miCJmiDIgZ6vEjhJnlXIEfftAUst2/6IglSoC/qtEWCBiiaGEWA2m3zooVltHCQNrKb+kgs27Jcy6QkihLvvWZn+nt42JS0pJacvUh+BxkvOfNc8xnmr5lnnnnWjAUBBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAIEdJeBttaONouhRtfkPtF7Wer7N7U+o/JTWYHltc3U3FD+qLbu1vql18oa9vb/hCc/zvtn7zaSFW0UguVUauqqdR/Tz4PJ6dNX27fyjO96tuJTVaALWVjxzPdrmrRiw/nfZ8gl9fqPNrp9W+V/T2om6Gh3KV7XxM1q/rvXJRgl6dNuK21SPto9mbVGBrRiwppetx3W78XQ73XX7eWen6mp0HKr/t5e3v9LuY21U/2a3rXKb2WwZ5EOgkYDfaCPbEEAAgV4UIGD14lmhTQgg0FCAgNWQhY0IINCLAgSsXjwrtAkBBBoKELAasrARAQR6UYCA1YtnhTYhgEBDAQJWQxY2IoBALwpsxXFYvehoGnvUr4YNxWjcmxprFcbIT1YEtr0AAat1p/jLKsqtmxnd7d4ZPKh1XCsLAgisIUDAWgNmk5u/paukkxvNq6uzsY3mIT0CO1GAPqwdcNajyLzoKUtGrxzNRJHWk9bUeVe+RPTi3YVo7EA+enM0F/2LKb+5GSxYEOiKQFN/uF1pGZXGFlgMVC7AvHo0bZnRlCaoydi5Qs4ePpGJzG4+tdCrn0paaSRr06M5C3ZnzI5m7PxoWkEsHbtxFIDAJgQIWJtA2wpZFKx8e0lzef141AWXjA0czJkN5ywxkrfZ5KA9ZjfvDqiWUjaUzFvY32fe3pztUn4byFkpm2wq4G0FKNq4pQRu/ke7pQ6HxjqBpdu2o0m7mkjbwZGkjdfSlsukbF+YsvlUyvqyKfvoZ+tR9EM3CWLkeab402BJ7s9aOFe0oTC06ahu+wZqNjWgyQwny7o8a5ynQTFsQqBVAgSsVkn2UjmPqzH37k1b3s9aOZW2A+msRcMZi+pZK+bSFvkZy0UDNvvV0IrFBQW4RktoM28O2kw0ogs0pavWLArq1peZtuP3Xomiz+jK7Vjd7HOhHjQ0LqFRqWxDIIYAASsGXq9m9R6yevSDqYodHy1YsVA0022dZQuWTfRZ4Ov2LpkxP0qbV8ma5d4oKyDph+uWemThwEErpEbdIDOrpwNL+lXzCgpSQxpzViuZXa2afamm3YELWu42VFdrjCW7TpJfWydAwGqdZU+V5D30YjWKPjFlVy7ssiA7YqnkkPmZQUv7/ZbysmHdcr7vH7R6aiCbsPkbG58ILZ24PQxzB7Qv1PPC0LdoxvqLc2aKWZbQ5HyXtd6u379k0TMnknb+TYtOnq/dWBZbEGiNAAGrNY49V0oUnXQPVCLL5afMnzkcVv1DlkzvrQc27IVR0cslk/pZX7BRPVgqJy/4pn6q60Y7JJPZWxNW26WCInV4RbXIuxDM1lKJbPpiNhVo7Fhe61XfJqqRLuB8uzpUsodVa1jxFBx7zoQGbX0BAtbWP4drHMF+jZcaV2d7Vnd72YqlgvzMz1544Op/Pn/bWG3ES995WyWZ0P1bPTpaC7zLFkbum4FWL1466Q2FiTCnHiqN5PKDqefO3HMofTEc/NDdz0bvue+ZXKFiNrvQb169ZiO5KRsfDu3ybGQHKqqbgLUak59bI0DAao1jV0pRn5FnpzTOakIB5XOmzu+lJ3e6GNJDvO8qaOQKZpXdNfNvmX5pfG/0k58cr56bHHr2x1dsIfy/xcRuMJZn3lGXY/WDP/frYk966KKVWzz1dM3b6C+VLfjJ/L65vl2lzLtHk35KryLV0mMWFAIbmQns6sG61WaSlnGvVrIg0FoBAlZrPTtbmgtW1Xsz9oH+tJ0uJaJLxbKNnFJn+KMuxugp3qA63G2vF3qHgunnT+w6GBRffiln/Rrh0K9RCgpwS8s6z/hWP0GsVNN2YcHslltqxcrCCx+Kgj0pS3i/sKRXsnRq1uZUf3E2MD9gfN8yLR+tFSBgtdazY6UtXl29ejRhfippc3rqNzDQZ7PD+23ms5Elz8/b3lF9BiNhsnDr/IWJuzLl0qHqfD45py7ywb6k4sxSU11A8nx1p7tfo1Cfut5yn0uXXIuJIjdqQQ8NZzWq4epkaMGcHjBevHB44dLUxb59Q5N+lJu0VKi+snzJkrWyqXueBYF2CBCw2qHamTITdl6XSsViynJB2qrFjBUrGq6QLZpfvtMWpgc1ZmowSu47phEI92QPfbgv2KWneP/8nK6w1MOU9HWFpajl/pdMWfbAQUvt3W31mbM2+9qYLpJSLnRZXV3x1UrNShqGVdCDw8qcgtdt+y2VK6Rrc9W9kZfcY37yoiVSE5bNBFYNruo1IF2HsSDQegECVutN217i21dXt2pAQqWeslRa93j5pE1poGg6ylgmkzffv0U96se9oHxHbtedh5KpwUTp7BWrlhV0psoa3eBZKuUrq69ng7qTvOs2O/zRY5a4+IZd/kVkZ360YDNX1ANWCdwjwuUrMDf6KrRSImG73qXhXNXRvWbFYUu4kQz949Y3+IaN/p2GOnCF1fY/gh1aAQFrq574qt5fTuuVvrzGhJbyCZurZqxPV1uhglbCywW1KJ/IeBrdHuSjYD4bTs94wdiCHfn4x/QuTt6i6iVdOk0qAl3Q7d6sDR9+Q6MfXrUoVbfdxzQIvjZrhQkFq+Ru83JHFLnOK90Vm52oWnBOF1DZOQuLE8louH/K8oNnK1ab0PB5N2h0pWdsq8rS7h4WIGD18MlZq2lLTwNf1Chz0+DQBxds/NC0+RNTNl8fdMMPrODnk572JYJaUJqvly+8YNlk2SINVj/4gQcsu1+3e1f/UQFIF0Oh+ua9YbPgvFUXx4Pq4WIiaQc+tEvbdaVU+KD6tlRVWfMSqqts8meqyr3dE3hWHvt5Xbekk9l9xTCTSOtvKVKGk2s1m+0IxBYgYMUm7G4BnndK46fcaq7f6JIGjJ61+eoZy3jnPT+xEFSmsm89+/MDXqqaKl3Qg7xL39OtoK6O6rrCchdDvosz6pdSR/vbTw212W0yT+NK/f9QUNO9oTYkUgkLannr25O2yf4Zq87W64cPLyjMuYeRLn66F3xOKWj9kUpQXhYEWixAwGoxaPeLe0QvKH9dzwLnx+rmv5AeShdSxVuODo2+v6++/1zi3JPf05uAZVM3lGKKrqIG7lWoO6tbvnGb1zCqWYW9kRFfF1kuaq3EQcUg/aoOL6vk7rE97/uIBrg/bVcvTl5IDg5psINCXalctLkre6w+WLP+F4ctf1/3KWjBthMgYG27U+oO6JD6kl4KEhbVgmStlB8uzAwdPhBGl08lZm/xbO8dA3q1UMkGXVBR5Jqv6anfkD31ozl74eWaff6XByxfUEe74pWbe2alVyrS+9KTpV02tPeytp/XSK8RL5OLDoSV0nusNDPih6UJq+auWP2Cu+RiQaDlAgSslpN2vsDFp4aPKqw8clKVP+TZ+RNmo27WhFCP75Ja63P1ydfCVOmcXX4rsNeeDXSF5YZwvaC+K9ePFdhdv/5+e/3chJ1/7ZJdupyw8n/N2eSbdd0pakyWC1q6RQxqdRu++5zt2XtW/fUadjV8xFNQ1NQ1QUpDuVxd7iXqkja5SzMWBFouQMBqOWn7C1SA0j2aWz+ly6Nkwq6qF/139ZDurVfSltqdtqFXCsFMfn8ymT7i53OHMgN+X236LS9VX1DflS6MpvRAMZNUzppu5jShqILS/OsZO/GJ++34ff9j3vyEBa8nbbCctkCBqq7eeL38bLNzgYWH1fc1V7XabFWv4qTO1hPJ/06ns89Zyn/dKqXLVvSqVrjnve1XoIadKEDA2opn/dVPpTSQKq/RnJquWHNc7Z7MaVaGotX9goXqS1pI9vvJYDhMJPf59dq+VCGbrVyc8HIJzXyV0at+6YQ60N3odvfyoSKSrramTz9vXv+rls1W7colTX0VKRZqOLzrykpokGndjSCt1C3rTZtXqltY8iuJQt9kIpHWoFG9zZgYvPT4vgemHvIeUmx7TG9FsyDQegECVutNO1Ni/7wm2Msrini6v8vXrFYv6/GfpxuzSPNdBX7oq89dd3SRn0wNZDLV+auHLFHpz/h176JGrq9MJuPewFHI0m2h1nn3pE/j2zWodGmDPtyiX92o90qoF6C9eV2BRVarDlZyhT7Xy6VrNrXBZvX+tZvqlAWB9gkQsNpn276Sjx4M7d9OR3ZrMbB8WWM267oU8kMrT9dsaPes1TSAyg+TGpZQ9JOJS4l8tlYvlY5HXqWY9mte2d3i1RMuDt2wuLcJr1n0q9viYth8parBCmXzNIOMJbKBl0kWvESt38q1PtO9ofUNuVtVN5qLBYG2CBCw2sLa5kJPnza760jV8nqxz78lsLH5srnZXKLhuoYWVO3iUGD3H9NAKA0zsGoqkclcrYfVWQ09CDNh4GtOY/WTLw9VuKap7ibRlXPNxsVfNLfDYiTKqB/fm9Fvu/OzuhQr+4EGa4W1XRZNj9hrJc1s87lZTeCngMl8WDcqsiWuAAErrmA38t9/JLRTEzV7cKRqj+sW7aHHb7iqiaLvqBNqTtv7FtTVvqCOqOlooRrldPdW1RVWWb3vnrsfbHSZtfqYVu2P9DRR3fBWn9f942j+cuhFF3TTOWFhYlrj6kMNlc/ZRQ0e3TujYKnvrmBBoMUCBKwWg3aiOM+7MUDdWO+zuk66VZ3flUra/DmvmLtUG8vO+ZrPPVNMBaV6bvFyaikeuXdwlhe3wX2dxPJ11uJ+z/PddDOpqOx56YyvYKcZ4fOvel7qrIZEXLSgrvd2ErM2WijpkWKgKn0mHF0B5bOVAgSsVmr2QFmKNQ+rGXpa6KYpnsqZPz6o4Z67Bo4XszO1/FitvJC59z37gyjTrxDkR15C10lRqA6td2KWwlU9EalPTPeGoWb/0xirhF7M8YKpSb8aTVrVS1WKxz7Zl8ndddy8PbdaJqs5sPqqevFaHf3JUKvGZLEg0HoBAlbrTbtd4p+q3/tf1ele1lWP+peGNYFMJtt3sL+WOXjfeb0TndK9mx4n6m5Rl01uCa2mPvWVez83W58mvtIN40pXlr6gQgGrpuGjGU2YnK6GltNVm/u6LzejaZ9u//SU0lcxixMBJn5PM8X/WbcRqH97ChCwttF5VYRR1HHjEy4+avbnGuGpubL8nDqVinnN755LWqlPLyhrEq2qgoxmVvDSLv3ia4XXMtTcqHVX0PIS6e9E3xq92O3u6zZT89FYpPcVcxomX9To9oymZR5XAHtRQe0fflOZVmLdSgF8ItASAQJWSxi7X8hSsFrpehpU8BhW0BlT0Dmkz0BB5aLmkRnQ+XbxqV+Bqqp1Wj+nrgsui79rm77teXFx6fRdFjaltBo+sbhd89SYvlTV9KTSXH/a3XXPO7mYPoq+r7T+dWUulcR/EYgrQMCKK9gD+ZeClWuI4sniFZa7wjmp1b2+/Kg2HtM6o8A1rM9xl0jLLn0uLP+8tGXpv0pmky7grAo66lNfTO9SXFGec/o8rLIfV5ofLAe2k9rmFldkg2IX9/EfBOIJELDi+fVEbt2HvR1clr48Iu8mfNG2xcCxuG/pq7+abW6jgPN2FW8Xou6vlTre3sYPCLRTgIDVTt0eKnspuLzToHeuyt7ZtvLT6gC4ss0Fv5U8jfe/k5KfEGiXQKN/SpuqS/9iP9VUwtYn2q8i79Q6pvVM64u/psSN1HVIOZ3nuWtKaO6XE0qm4euL03auznGHfjmg9WWt46t3rPPzWmWtk6Wlu1z957XeprUT56iljaewtgk8oX80vxm39DgB68Z7hLitIT8CCGxXgb9XwPqduAf3zmjBuCWRHwEEEFhbwN0VxV4IWLEJKQABBDol0IpO9wc71dgO1fNp1fM1rU9o/UaTdbq+pm9rdX1NX2oyz3rJTi3vfHC9ROxrWmAz57TpwndgwmY9Py8bt7rlmaWPeP+NHbB0X/p0vCb0Vm49TFi5dB1v9tiUR6O+F5e5ZvOsd9Qqb3F3K8par56dsm8z53Sn2GzmOJv1VLpfXlW+visu/sItYXxDSkAAgQ4JELA6BE01CCAQX4CAFd+QEhBAoEMCBKwOQVMNAgjEFyBgxTekBAQQ6JAAAatD0FSDAALxBQhY8Q0pAQEEOiRAwOoQNNUggEB8AQJWfENKQACBDgkQsDoETTUIIBBfgIAV35ASEECgQwIErA5BUw0CCMQXIGDFN6QEBBDokAABq0PQVIMAAvEFCFjxDSkBAQQ6JEDA6hA01SCAQHwBAlZ8Q0pAAIEOCcSecbRV7dTshCmV5b7SarPLZc3Qqa9kZ0EAge0q0DMBS8D3aP2x1vFNYA8rz1e0/vUm8pKlRQL6R+eRGEWd1j84T8bIT9ZVAjoX7v8Pn1m1Kc6PLflOwTgNWMnbSwHLtel5/dE+sNK4Zj91ch5rNi3p2ipwUqU/uoka7lced3VNwNoE3hpZ3HcTuC/njWvqvnBi5XsO1qiqc5t7LWB17sipqS0C+gfn5EYL1j84X1QeF7RYWitwRufjVJwidW7cN0L1zLmh0z3O2SQvAgh0VICA1VFuKkMAgTgCBKw4euRFAIGOChCwOspNZQggEEeAgBVHj7wIINBRAQJWR7mpDAEE4ggQsOLokRcBBDoqQMDqKDeVIYBAHAECVhw98iKAQEcFCFgd5aYyBBCII0DAiqNHXgQQ6KgAAauj3FSGAAJxBAhYcfTIiwACHRUgYHWUm8oQQCCOAAErjh55EUCgowIErI5yUxkCCMQRIGDF0SMvAgh0VICA1VFuKkMAgTgCBKw4euRFAIGOCsSe011zPl+9SYu/q3mlv3yTNOxuICDb7zTY3MpN53RuNvOlEa1sQ9fKkq/7lp/DXWtAeys+oeJ/Q8f4hzGr6Vf+l2KW0bLssQOWWvKudVrzee179zr72bW+wNPr746197Byu6+B2rEBa/n4n9DnG1q323JeB7SvBQd1l8qYakE5LSkidsDSv9BrHoyi+0JLWrlDC5Htd9t16Do37ptQ3Fc47fTlSTm7r8NiaSCgv5Oe+kYj+rAanCQ2IYBAbwoQsHrzvNAqBBBoIEDAaoDCJgQQ6E0BAlZvnhdahQACDQQIWA1Q2IQAAr0pQMDqzfNCqxBAoIEAAasBCpsQQKA3BQhYvXleaBUCCDQQIGA1QGETAgj0pgABqzfPC61CAIEGAgSsBihsQgCB3hQgYPXmeaFVCCDQQICA1QCFTQgg0JsCsWdr6M3DolXdEtDb/Yc3UffwJvKQZQcKxA5Y+gN9eB23D2vfkNJ8ZJ00K7tu1w/vVtrnVjZs4POg0s40Wc/NinXtcMv+DZR3x1IWK2wgz3KWtT9U1ve1N6t1Xmtl7ZSb2uOCREvbq/LGtT6zqdaY/Xsr7a5rw1rntKB071O97pOlsYCzu/7/C2t5Xl9CK+bjuqZM75rfNvCLTnK0geQkRQCBnScwpkM+sHzYj2resZNxCejDiitIfgQQ6JgAAatj1FSEAAJxBWL3YakBp+I2gvxrCri+MXdJ/bJW1z/U6sX13TwQs1B32X8mZhntzr5fFdypdSu0td0WzZbvptAuNpF4vb9N9/e1ckvYRFFtTOL6sNzSxip2fNHifWwReWle7ZZ7qGzX4fzTzRasvF/U+thm83cq33I79dH7be2Uyc3qkdVPtbqgtebiPLV+Ya0E2ndS68pycq10G9nOLeFGtEiLAAJdFSBgdZWfyhFAYCMCBKyNaJEWAQS6KkDA6io/lSOAwEYECFgb0SItAgh0VYCA1VV+KkcAgY0IELA2okVaBBDoqgABq6v8VI4AAhsRIGBtRIu0CCDQVQECVlf5qRwBBDYiQMDaiBZpEUCgqwIErK7yUzkCCGxEgIC1ES3SIoBAVwUIWF3lp3IEENiIAAFrI1qkRQCBrgoQsLrKT+UIILARgVbMOLqR+kiLwLYT0Ax1v6KD+tsmDuyivojhg02kI8kaAgSsNWDYjMAGBPJK+5rW318nzx7t++E6+9nVhAABqwkkkiDQhEBJV0/n1kqnq7DKWvvY3rwAfVjNW5ESAQS6LEDA6vIJoHoEEGhegIDVvBUpEUCgywIErC6fAKpHAIHmBQhYzVuREgEEuixAwOryCaB6BBBoXoCA1bwVKRFAoMsCBKwunwCqRwCB5gUIWM1bkRIBBLosQMDq8gmgegQQaF6AgNW8FSkRQKDLArxL2OUTQPVrC+j9u7/S3jvXTtH0nv1NpyRhTwsQsHr69Oz4xj0ggW9rPRNT4i9i5id7jwgQsHrkRNCMNQVOaxaE02vubWKHrtSmmkhGki0gQB/WFjhJNBEBBJYECFj8JSCAwJYRIGBtmVNFQxFAgIDF3wACCGwZATrdt8ypaltDM+qUPrzJ0oc3mY9sCGxKgIC1KbbezaTg4769ZVeTLSwq3bu0vtBk+kbJvt9oI9sQaIcAAasdqt0t85Oq/k+0Xm2yGX/ZZLpGyf5YG/kmmEYybGuLAAGrLaxdL/RHGrs03u5W6Gru4XbXQfkIrBag0321Bj8jgEBPCxCwevr00DgEEFgtQMBarcHPCCDQ0wIErJ4+PTQOAQRWCxCwVmvwMwII9LTAjnpKqKdax3Q2vtDTZ+Taxp249ld+Q2BnC+yogKVTfUTrx7X+zRY57akt0k6aiUBHBHZawHKor2uM0rc6ohuzEl0R/qqKuCtmMWRHYNsI0Ie1bU4lB4LA9hcgYG3/c8wRIrBtBAhY2+ZUciAIbH8BAtb2P8ccIQLbRoCAtW1OJQeCwPYXSOpJlBuXdGCzh6r8j2w2bxfy3aE6P6Y2t30mgxYd25DKibT+mtrc7HfrFZT+K0o/16I2rFfM7dr5W6rr/vUSxdjnjvmfVH41Rhku677l/O9TWe34e3V/Vx9U2U8t19PoI62NhTbV36i+uNuasXcTOO7TMa0VPw5p/6nlhhxqxbF7KuSnKrBdf3DLbeUDAQQQiC/gxmE9pnWtCBm/BkrotMB7VaH717xTy8uqqNe/989dLbhvkB7TekYrCwIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCDQewL/D2r9GiBh+zLRAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/background.d155fef4.svg\";","import * as ethers from 'ethers'\n\nexport default class UncheckedJsonRpcSigner extends ethers.Signer {\n  constructor(signer) {\n    super()\n    ethers.utils.defineReadOnly(this, 'signer', signer)\n    ethers.utils.defineReadOnly(this, 'provider', signer.provider)\n  }\n\n  getAddress() {\n    return this.signer.getAddress()\n  }\n\n  sendTransaction(transaction) {\n    return this.signer.sendUncheckedTransaction(transaction).then(hash => {\n      return {\n        hash: hash,\n        nonce: null,\n        gasLimit: null,\n        gasPrice: null,\n        data: null,\n        value: null,\n        chainId: null,\n        confirmations: 0,\n        from: null,\n        wait: confirmations => {\n          return this.signer.provider.waitForTransaction(hash, confirmations)\n        },\n      }\n    })\n  }\n\n  signMessage(message) {\n    return this.signer.signMessage(message)\n  }\n}\n","import { ethers } from 'ethers'\nimport BigNumber from 'bignumber.js'\nimport UncheckedJsonRpcSigner from './signer'\n\nexport function delay(ms) {\n  return new Promise(res => setTimeout(res, ms))\n}\n\nexport function safeAccess(object, path) {\n  return object\n    ? path.reduce(\n        (accumulator, currentValue) =>\n          accumulator && accumulator[currentValue]\n            ? accumulator[currentValue]\n            : null,\n        object,\n      )\n    : null\n}\n\nexport function parseQueryString(queryString) {\n  const query = {}\n  const pairs = (queryString[0] === '?'\n    ? queryString.substr(1)\n    : queryString\n  ).split('&')\n  for (let i = 0; i < pairs.length; i++) {\n    const pair = pairs[i].split('=')\n    query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '')\n  }\n  return query\n}\n\nexport function isAddress(address) {\n  return ethers.utils.isAddress(address)\n}\n\nexport function shortenAddress(address, digits = 4) {\n  if (!isAddress(address)) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n  return `${address.substring(0, digits + 2)}...${address.substring(\n    42 - digits,\n  )}`\n}\n\nexport function shortenTransactionHash(hash, digits = 6) {\n  return `${hash.substring(0, digits + 2)}...${hash.substring(66 - digits)}`\n}\n\nexport function getNetworkName(networkId) {\n  switch (networkId) {\n    case 1: {\n      return 'Main Network'\n    }\n    case 3: {\n      return 'Ropsten'\n    }\n    case 4: {\n      return 'Rinkeby'\n    }\n    case 5: {\n      return 'Görli'\n    }\n    case 42: {\n      return 'Kovan'\n    }\n    default: {\n      return 'correct network'\n    }\n  }\n}\n\nconst ETHERSCAN_PREFIXES = {\n  1: '',\n  3: 'ropsten.',\n  4: 'rinkeby.',\n  5: 'goerli.',\n  42: 'kovan.',\n}\n\nexport function getEtherscanLink(networkId, data, type) {\n  const prefix = `https://${ETHERSCAN_PREFIXES[networkId] ||\n    ETHERSCAN_PREFIXES[1]}etherscan.io`\n\n  switch (type) {\n    case 'transaction': {\n      return `${prefix}/tx/${data}`\n    }\n    case 'address':\n    default: {\n      return `${prefix}/address/${data}`\n    }\n  }\n}\n\nexport async function getGasPrice() {\n  const response = await fetch('https://ethgasstation.info/json/ethgasAPI.json')\n  const data = await response.json()\n  const gasPrice = new BigNumber(data.fast).div(10).times(1e9) // convert unit to wei\n  return gasPrice\n}\n\n// account is optional\nexport function getProviderOrSigner(library, account) {\n  return account\n    ? new UncheckedJsonRpcSigner(library.getSigner(account))\n    : library\n}\n\nexport function getContract(address, abi, library, account) {\n  if (!isAddress(address) || address === ethers.constants.AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n\n  return new ethers.Contract(\n    address,\n    abi,\n    getProviderOrSigner(library, account),\n  )\n}\n\nexport function amountFormatter(amount, baseDecimals, displayDecimals = 4) {\n  if (\n    baseDecimals > 18 ||\n    displayDecimals > 18 ||\n    displayDecimals > baseDecimals\n  ) {\n    throw Error(\n      `Invalid combination of baseDecimals '${baseDecimals}' and displayDecimals '${displayDecimals}.`,\n    )\n  }\n\n  if (!amount) {\n    return undefined\n  }\n\n  if (amount.isZero()) {\n    return '0'\n  }\n\n  const x = new BigNumber(amount.toString())\n  const amountDecimals = 18 - x.decimalPlaces(0).precision(true) + 1\n\n  return x\n    .div(new BigNumber(10).pow(new BigNumber(baseDecimals)))\n    .toFixed(amountDecimals >= displayDecimals ? amountDecimals + 1 : displayDecimals)\n}\n\nexport function percentageFormatter(amount, baseDecimals, displayDecimals = 2) {\n  if (\n    baseDecimals > 18 ||\n    displayDecimals > 18 ||\n    displayDecimals > baseDecimals\n  ) {\n    throw Error(\n      `Invalid combination of baseDecimals '${baseDecimals}' and displayDecimals '${displayDecimals}.`,\n    )\n  }\n\n  if (!amount) {\n    return undefined\n  }\n\n  if (!BigNumber.isBigNumber(amount)) {\n    amount = new BigNumber(amount)\n  }\n\n  if (amount.isZero()) {\n    return '0'\n  }\n\n  return `${amount\n    .div(new BigNumber(10).pow(new BigNumber(baseDecimals)))\n    .times(100)\n    .toFixed(displayDecimals)} %`\n}\n\nexport function validateEmail(email) {\n  var re = /^(([^<>()[\\]\\\\.,;:\\s@']+(\\.[^<>()[\\]\\\\.,;:\\s@']+)*)|('.+'))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n  return re.test(email)\n}\n\nfunction leftPad(s) {\n  return s.toString().padStart(2, '0')\n}\n\nexport function formatUTC0(timestamp = 0, hideTime = false) {\n  const date = new Date(timestamp)\n\n  if (hideTime) {\n    return `${date.getUTCFullYear()}/${leftPad(date.getUTCMonth() + 1)}/${leftPad(date.getUTCDate())}`\n  }\n\n  return `${date.getUTCFullYear()}/${leftPad(date.getUTCMonth() + 1)}/${leftPad(date.getUTCDate())} ${leftPad(date.getUTCHours())}:${leftPad(date.getUTCMinutes())}:${leftPad(date.getUTCSeconds())} (UTC+0)`\n}\n","export const READ_ONLY = 'READ_ONLY'\nexport const BOX_SPACE = '3fmutual'\n\nexport const INSURANCE_ADDRESSES = {\n  1: '0x3bc058D0958a543406D70416a810a5Cc023f1F31',\n  42: '0x77A16Fff5cA22EBEce6b50705a39c55e12D9c52d',\n}\n\nexport const insuranceRatesByDay = [\n  '0',\n  '1000000000000000000',\n  '1990000000000000000',\n  '2970100000000000000',\n  '3940399000000000000',\n  '4900995010000000000',\n  '5851985059900000000',\n  '6793465209301000000',\n  '7725530557207990000',\n  '8648275251635910100',\n  '9561792499119550999',\n  '10466174574128355489',\n  '11361512828387071934',\n  '12247897700103201215',\n  '13125418723102169203',\n  '13994164535871147511',\n  '14854222890512436036',\n  '15705680661607311676',\n  '16548623854991238559',\n  '17383137616441326173',\n  '18209306240276912911',\n  '19027213177874143782',\n  '19836941046095402344',\n  '20638571635634448321',\n  '21432185919278103838',\n  '22217864060085322800',\n  '22995685419484469572',\n  '23765728565289624876',\n  '24528071279636728627',\n  '25282790566840361341',\n  '26029962661171957728',\n  '26769663034560238151',\n  '27501966404214635769',\n  '28226946740172489411',\n  '28944677272770764517',\n  '29655230500043056872',\n  '30358678195042626303',\n  '31055091413092200040',\n  '31744540498961278040',\n  '32427095093971665260',\n  '33102824143031948607',\n  '33771795901601629121',\n  '34434077942585612830',\n  '35089737163159756702',\n  '35738839791528159135',\n  '36381451393612877544',\n  '37017636879676748769',\n  '37647460510879981281',\n  '38270985905771181468',\n  '38888276046713469653',\n  '39499393286246334956',\n  '40104399353383871606',\n  '40703355359850032890',\n  '41296321806251532561',\n  '41883358588189017235',\n  '42464525002307127063',\n  '43039879752284055792',\n  '43609480954761215234',\n  '44173386145213603082',\n  '44731652283761467051',\n  '45284335760923852380',\n  '45831492403314613856',\n  '46373177479281467717',\n  '46909445704488653040',\n  '47440351247443766510',\n  '47965947734969328845',\n  '48486288257619635557',\n  '49001425375043439201',\n  '49511411121293004809',\n  '50016297010080074761',\n  '50516134039979274013',\n  '51010972699579481273',\n  '51500862972583686460',\n  '51985854342857849595',\n  '52465995799429271099',\n  '52941335841434978388',\n  '53411922483020628604',\n  '53877803258190422318',\n  '54339025225608518095',\n  '54795634973352432914',\n  '55247678623618908585',\n  '55695201837382719499',\n  '56138249819008892304',\n  '56576867320818803381',\n  '57011098647610615347',\n  '57440987661134509194',\n  '57866577784523164102',\n  '58287912006677932461',\n  '58705032886611153136',\n  '59117982557745041605',\n  '59526802732167591189',\n  '59931534704845915277',\n  '60332219357797456124',\n  '60728897164219481563',\n  '61121608192577286747',\n  '61510392110651513880',\n  '61895288189544998741',\n  '62276335307649548754',\n  '62653571954573053266',\n  '63027036235027322733',\n  '63396765872677049506',\n]\n","import React, {\n  createContext,\n  useContext,\n  useReducer,\n  useCallback,\n  useMemo,\n  useEffect,\n  useState,\n} from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { safeAccess, getContract, isAddress } from '../utils'\nimport { READ_ONLY, INSURANCE_ADDRESSES } from '../constants'\nimport INSURANCE_ABI from '../constants/abis/insurance.json'\nimport { constants } from 'ethers'\n\nconst SYSTEM = 'SYSTEM'\nconst USER = 'USER'\n\n// action types\nconst UPDATE_SYSTEM = 'UPDATE_SYSTEM'\nconst UPDATE_USER = 'UPDATE_USER'\n\nconst InsuranceContext = createContext()\n\nexport function useInsuranceContext() {\n  return useContext(InsuranceContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE_SYSTEM: {\n      const {\n        chainId,\n        pot,\n        totalShares,\n        totalInsurances,\n        totalAgents,\n        sharePrice,\n        ended,\n        expiringUnits,\n        blockNumber,\n      } = payload\n\n      return {\n        ...state,\n        [SYSTEM]: {\n          ...(safeAccess(state, [SYSTEM]) || {}),\n          [chainId]: {\n            pot,\n            totalShares,\n            totalInsurances,\n            totalAgents,\n            sharePrice,\n            ended,\n            expiringUnits,\n            blockNumber,\n          },\n        },\n      }\n    }\n    case UPDATE_USER: {\n      const {\n        chainId,\n        account,\n        shares,\n        insurances,\n        lastBought,\n        dividends,\n        bonus,\n        expiringUnits,\n        blockNumber,\n      } = payload\n\n      return {\n        ...state,\n        [USER]: {\n          ...(safeAccess(state, [USER]) || {}),\n          [chainId]: {\n            ...(safeAccess(state, [USER, chainId]) || {}),\n            [account]: {\n              shares,\n              insurances,\n              lastBought,\n              dividends,\n              bonus,\n              expiringUnits,\n              blockNumber,\n            },\n          },\n        },\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in Insurance context: ${type}`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [refreshCount, setRefreshCount] = useState(0)\n  const refresh = useCallback(() => setRefreshCount(refreshCount + 1), [\n    refreshCount,\n  ])\n\n  const [state, dispatch] = useReducer(reducer, {})\n\n  const updateSystem = useCallback(\n    (\n      chainId,\n      pot,\n      totalShares,\n      totalInsurances,\n      totalAgents,\n      sharePrice,\n      ended,\n      expiringUnits,\n      blockNumber,\n    ) => {\n      dispatch({\n        type: UPDATE_SYSTEM,\n        payload: {\n          chainId,\n          pot,\n          totalShares,\n          totalInsurances,\n          totalAgents,\n          sharePrice,\n          ended,\n          expiringUnits,\n          blockNumber,\n        },\n      })\n    },\n    [],\n  )\n\n  const updateUser = useCallback(\n    (\n      chainId,\n      account,\n      shares,\n      insurances,\n      lastBought,\n      dividends,\n      bonus,\n      expiringUnits,\n      blockNumber,\n    ) =>\n      dispatch({\n        type: UPDATE_USER,\n        payload: {\n          chainId,\n          account,\n          shares,\n          insurances,\n          lastBought,\n          dividends,\n          bonus,\n          expiringUnits,\n          blockNumber,\n        },\n      }),\n    [],\n  )\n\n  const value = useMemo(\n    () => [state, { updateSystem, updateUser, refresh }, refreshCount],\n    [refresh, refreshCount, state, updateSystem, updateUser],\n  )\n\n  return (\n    <InsuranceContext.Provider value={value}>\n      {children}\n    </InsuranceContext.Provider>\n  )\n}\n\nexport function Updater() {\n  const { chainId, library } = useWeb3React(READ_ONLY)\n  const { account } = useWeb3React()\n  const [\n    state,\n    { updateSystem, updateUser },\n    refreshCount,\n  ] = useInsuranceContext()\n\n  const { blockNumber: systemBlockNumber } =\n    safeAccess(state, [SYSTEM, chainId]) || {}\n\n  const { blockNumber: userBlockNumber } =\n    safeAccess(state, [USER, chainId, account]) || {}\n\n  // initialize system metrics\n  useEffect(() => {\n    if (\n      (systemBlockNumber && userBlockNumber\n        ? systemBlockNumber < userBlockNumber\n        : true) &&\n      (chainId || chainId === 0) &&\n      library\n    ) {\n      let stale = false\n      const contract = getContract(\n        INSURANCE_ADDRESSES[chainId],\n        INSURANCE_ABI,\n        library,\n      )\n      async function checkIsClaimable() {\n        try {\n          await contract.callStatic.claim()\n          return true\n        } catch {\n          return false\n        }\n      }\n      Promise.all([\n        contract.pool(),\n        contract.shares(),\n        contract.issuedInsurance(),\n        contract.agents(),\n        contract.getBuyPrice(),\n        checkIsClaimable(),\n        contract.getExpiringUnitList(),\n        library.getBlockNumber(),\n      ])\n        .then(\n          ([\n            pot,\n            shares,\n            insurances,\n            agents,\n            price,\n            ended,\n            expiringUnitList,\n            blockNumber,\n          ]) => {\n            if (!stale) {\n              updateSystem(\n                chainId,\n                pot,\n                shares,\n                insurances,\n                agents,\n                price,\n                ended,\n                expiringUnitList,\n                blockNumber,\n              )\n            }\n          },\n        )\n        .catch(() => {\n          if (!stale) {\n            updateSystem(\n              chainId,\n              null,\n              null,\n              null,\n              null,\n              null,\n              null,\n              null,\n              userBlockNumber,\n            )\n          }\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [\n    chainId,\n    library,\n    systemBlockNumber,\n    updateSystem,\n    userBlockNumber,\n    refreshCount,\n  ])\n\n  // get user metrics\n  useEffect(() => {\n    if (isAddress(account) && (chainId || chainId === 0) && library) {\n      let stale = false\n      const contract = getContract(\n        INSURANCE_ADDRESSES[chainId],\n        INSURANCE_ABI,\n        library,\n      )\n      Promise.all([\n        contract.player(account),\n        contract.getCurrentUnit(account),\n        contract.mask(),\n        contract.getExpiringUnitListPlayer(account),\n        library.getBlockNumber(),\n      ])\n        .then(([player, insurances, mask, expiringUnitList, blockNumber]) => {\n          const dividends = player.shares.isZero()\n            ? constants.Zero\n            : mask\n                .mul(player.shares)\n                .div(constants.WeiPerEther)\n                .sub(player.mask)\n          const lastBought = player.plyrLastSeen.mul(86400000)\n          if (!stale) {\n            updateUser(\n              chainId,\n              account,\n              player.shares,\n              insurances,\n              lastBought,\n              dividends,\n              player.ref,\n              expiringUnitList,\n              blockNumber,\n            )\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            updateUser(\n              chainId,\n              account,\n              null,\n              null,\n              null,\n              null,\n              null,\n              null,\n              systemBlockNumber,\n            )\n          }\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [account, chainId, library, systemBlockNumber, updateUser, refreshCount])\n\n  return null\n}\n\nexport function useInsuranceSystem() {\n  const { chainId } = useWeb3React(READ_ONLY)\n  const [state] = useInsuranceContext()\n  const {\n    pot,\n    totalShares,\n    totalInsurances,\n    totalAgents,\n    sharePrice,\n    ended,\n    expiringUnits,\n  } = safeAccess(state, [SYSTEM, chainId]) || {}\n\n  return {\n    pot,\n    totalShares,\n    totalInsurances,\n    totalAgents,\n    sharePrice,\n    ended,\n    expiringUnits,\n  }\n}\n\nexport function useInsuranceUser() {\n  const { chainId } = useWeb3React(READ_ONLY)\n  const { account } = useWeb3React()\n  const [state] = useInsuranceContext()\n  const { shares, insurances, lastBought, dividends, bonus, expiringUnits } =\n    safeAccess(state, [USER, chainId, account]) || {}\n\n  return {\n    shares,\n    insurances,\n    lastBought,\n    dividends,\n    bonus,\n    expiringUnits,\n  }\n}\n","import React, {\n  createContext,\n  useContext,\n  useReducer,\n  useCallback,\n  useMemo,\n  useEffect,\n} from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { ethers } from 'ethers'\nimport { safeAccess, isAddress, getContract } from '../utils'\nimport { READ_ONLY, INSURANCE_ADDRESSES } from '../constants'\nimport INSURANCE_ABI from '../constants/abis/insurance.json'\n\nconst ProfileContext = createContext()\n\nexport function useProfileContext() {\n  return useContext(ProfileContext)\n}\n\nconst UPDATE = 'UPDATE'\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE: {\n      const { chainId, account, id, name, level, points, pointsMax } = payload\n\n      return {\n        ...state,\n        [chainId]: {\n          ...(safeAccess(state, [chainId]) || {}),\n          [account]: {\n            ...(safeAccess(state, [chainId, account]) || {}),\n            id,\n            name,\n            level,\n            points,\n            pointsMax,\n          },\n        },\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in ProfileContext: ${type}`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, {})\n  const update = useCallback(\n    (chainId, account, id, name, level, points, pointsMax) =>\n      dispatch({\n        type: UPDATE,\n        payload: {\n          chainId,\n          account,\n          id,\n          name,\n          level,\n          points,\n          pointsMax,\n        },\n      }),\n    [],\n  )\n  const value = useMemo(() => [state, { update }], [state, update])\n\n  return (\n    <ProfileContext.Provider value={value}>{children}</ProfileContext.Provider>\n  )\n}\n\nexport function useProfile(account) {\n  const { chainId, library } = useWeb3React(READ_ONLY)\n  const [state, { update }] = useProfileContext()\n  const { id, name, level, points, pointsMax } =\n    safeAccess(state, [chainId, account]) || {}\n\n  const updateProfile = useCallback(async () => {\n    if (isAddress(account) && (chainId || chainId === 0) && library) {\n      const contract = getContract(\n        INSURANCE_ADDRESSES[chainId],\n        INSURANCE_ABI,\n        library,\n      )\n      const player = await contract.player(account)\n      const requirement = await contract.requirement(player.level)\n      update(\n        chainId,\n        account,\n        player.id,\n        ethers.utils.parseBytes32String(player.name),\n        player.level,\n        player.accumulatedRef,\n        requirement,\n      )\n    }\n  }, [account, chainId, library, update])\n\n  useEffect(() => {\n    updateProfile()\n  }, [updateProfile])\n\n  return {\n    account,\n    id,\n    name,\n    level,\n    points,\n    pointsMax,\n    refresh: updateProfile,\n  }\n}\n","import React, { createContext, useContext, useReducer, useCallback, useMemo, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\n\nconst ACTIVATE = 'ACTIVATE'\nconst INITIALIZE = 'INITIALIZE'\n\nconst ThreeBoxContext = createContext()\n\nexport function useThreeBoxContext() {\n  return useContext(ThreeBoxContext)\n}\n\nconst INITIAL_STATE = {\n  active: false,\n  isLoggedIn: false,\n  box: null,\n  address: null,\n  profile: null\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case ACTIVATE: {\n      const { address, profile, box } = payload\n      return {\n        ...state,\n        address,\n        profile,\n        box,\n        active: true,\n        isLoggedIn: true,\n      }\n    }\n    case INITIALIZE: {\n      const { profile, isLoggedIn } = payload\n      return {\n        ...state,\n        profile,\n        isLoggedIn,\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in ThreeBoxContext: ${type}`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE)\n\n  const { active: web3Active, account } = useWeb3React()\n\n  const activate = useCallback(async () => {\n    if (web3Active) {\n      const box = await window.Box.openBox(account, window.ethereum, {})\n      const profile = await window.Box.getProfile(account)\n      await box.syncDone\n      dispatch({ type: ACTIVATE, payload: { box, account, profile }})\n    }\n  }, [account, web3Active])\n  \n  // get profile first\n  useEffect(() => {\n    if (account) {\n      let stale = false\n      Promise.all([\n        window.Box.isLoggedIn(account),\n        window.Box.getProfile(account)\n      ]).then(([isLoggedIn, profile]) => {\n          if (!stale) {\n            dispatch({ type: INITIALIZE, payload: { isLoggedIn, profile }})\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            dispatch({ type: INITIALIZE, payload: { isLoggedIn: false, profile: null }})\n          }\n        })\n      \n      return () => {\n        stale = true\n      }\n    }\n  }, [account])\n\n  const value = useMemo(() => ({ ...state, activate}), [activate, state])\n\n  return <ThreeBoxContext.Provider value={value}>{children}</ThreeBoxContext.Provider>\n}\n","import { AbstractConnector } from '@web3-react/abstract-connector'\n\nconst __DEV__ = process.env.NODE_ENV !== 'production'\n\nexport class NoEthereumProviderError extends Error {\n  constructor() {\n    super()\n    this.name = this.constructor.name\n    this.message = 'No Ethereum provider was found on window.ethereum.'\n  }\n}\n\nexport class UserRejectedRequestError extends Error {\n  constructor() {\n    super()\n    this.name = this.constructor.name\n    this.message = 'The user rejected the request.'\n  }\n}\n\nexport class InjectedConnector extends AbstractConnector {\n  constructor(kwargs: AbstractConnectorArguments = {}) {\n    super(kwargs)\n\n    this.handleConnect = this.handleConnect.bind(this)\n    this.handleNetworkChanged = this.handleNetworkChanged.bind(this)\n    this.handleChainChanged = this.handleChainChanged.bind(this)\n    this.handleAccountsChanged = this.handleAccountsChanged.bind(this)\n    this.handleClose = this.handleClose.bind(this)\n  }\n\n  handleConnect() {\n    if (__DEV__) {\n      console.log(\"Logging 'connect' event\")\n    }\n  }\n\n  handleNetworkChanged(networkId) {\n    if (__DEV__) {\n      console.log(\"Handling 'networkChanged' event with payload\", networkId)\n    }\n    this.emitUpdate({ chainId: networkId })\n  }\n\n  handleChainChanged(chainId) {\n    if (__DEV__) {\n      console.log(\"Handling 'chainChanged' event with payload\", chainId)\n    }\n    this.emitUpdate({ chainId })\n  }\n\n  handleAccountsChanged(accounts) {\n    if (__DEV__) {\n      console.log(\"Handling 'accountsChanged' event with payload\", accounts)\n    }\n    if (accounts.length === 0) {\n      this.emitDeactivate()\n    } else {\n      this.emitUpdate({ account: accounts[0] })\n    }\n  }\n\n  handleClose(code, reason) {\n    if (__DEV__) {\n      console.log(\"Handling 'close' event with payload\", code, reason)\n    }\n    this.emitDeactivate()\n  }\n\n  async activate() {\n    if (!window.ethereum) {\n      throw new NoEthereumProviderError()\n    }\n\n    window.ethereum.autoRefreshOnNetworkChange = false\n    if (window.ethereum.on) {\n      window.ethereum.on('connect', this.handleConnect)\n      window.ethereum.on('chainChanged', this.handleChainChanged)\n      window.ethereum.on('networkChanged', this.handleNetworkChanged)\n      window.ethereum.on('accountsChanged', this.handleAccountsChanged)\n      window.ethereum.on('close', this.handleClose)\n    }\n\n    const account = await (window.ethereum.isTrust\n      ? window.ethereum.enable()\n      : window.ethereum.send('eth_requestAccounts')\n    )\n      .then(response => {\n        const accounts = response.result || response\n        return accounts[0]\n      })\n      .catch(error => {\n        if (error && error.code === 4001) {\n          throw new UserRejectedRequestError()\n        } else {\n          throw error\n        }\n      })\n\n    return { provider: window.ethereum, account }\n  }\n\n  async getProvider() {\n    return window.ethereum\n  }\n\n  async getChainId() {\n    if (!window.ethereum) {\n      throw new NoEthereumProviderError()\n    }\n    if (window.ethereum.isTrust) {\n      const response = window.ethereum.send({ method: 'net_version' })\n      return response.result\n    } else {\n      return window.ethereum.send('net_version').then(response => {\n        return response.result || response\n      })\n    }\n  }\n\n  async getAccount() {\n    if (!window.ethereum) {\n      throw new NoEthereumProviderError()\n    }\n    if (window.ethereum.isTrust) {\n      const response = window.ethereum.send({ method: 'eth_accounts' })\n      return response.result[0]\n    } else {\n      return window.ethereum.send('eth_accounts').then(response => {\n        const accounts = response.result || response\n        return accounts[0]\n      })\n    }\n  }\n\n  deactivate() {\n    if (window.ethereum && window.ethereum.removeListener) {\n      window.ethereum.removeListener('connect', this.handleConnect)\n      window.ethereum.removeListener('chainChanged', this.handleChainChanged)\n      window.ethereum.removeListener(\n        'networkChanged',\n        this.handleNetworkChanged,\n      )\n      window.ethereum.removeListener(\n        'accountsChanged',\n        this.handleAccountsChanged,\n      )\n      window.ethereum.removeListener('close', this.handleClose)\n    }\n  }\n\n  async isAuthorized() {\n    if (window.ethereum) {\n      return (window.ethereum.isTrust\n        ? window.ethereum.send({ method: 'eth_accounts' })\n        : window.ethereum.send('eth_accounts')\n      )\n        .then(({ result: accounts }) => {\n          if (accounts.length > 0) {\n            return true\n          } else {\n            return false\n          }\n        })\n        .catch(() => {\n          return false\n        })\n    } else {\n      return false\n    }\n  }\n}\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport { ethers } from 'ethers'\nimport invariant from 'tiny-invariant'\n\nimport PrivateKeyProvider from './PrivateKeyProvider'\n\nexport default class NetworkWithSignerConnector extends AbstractConnector {\n  constructor({\n    privateKey,\n    urls,\n    defaultChainId,\n    pollingInterval,\n    requestTimeoutMs,\n  }) {\n    invariant(\n      defaultChainId || Object.keys(urls).length === 1,\n      'defaultChainId is a required argument with >1 url',\n    )\n    super({ supportedChainIds: Object.keys(urls).map(k => Number(k)) })\n\n    this.providers = Object.keys(urls).reduce((accumulator, chainId) => {\n      const provider = new PrivateKeyProvider(privateKey, urls[Number(chainId)])\n      return Object.assign(accumulator, { [Number(chainId)]: provider })\n    }, {})\n    this.currentChainId = defaultChainId || Number(Object.keys(urls)[0])\n    this.pollingInterval = pollingInterval\n    this.requestTimeoutMs = requestTimeoutMs\n    this.active = false\n    this.wallet = new ethers.Wallet(privateKey)\n  }\n\n  async activate() {\n    if (!this.wallet) {\n      throw Error('Please create a wallet first.')\n    }\n    const provider = this.providers[this.currentChainId]\n    provider.engine.start()\n    this.active = true\n    return {\n      provider: provider,\n      chainId: this.currentChainId,\n      account: this.wallet.address,\n    }\n  }\n\n  async getProvider() {\n    return this.providers[this.currentChainId]\n  }\n\n  async getChainId() {\n    return this.currentChainId\n  }\n\n  async getAccount() {\n    return this.wallet.address\n  }\n\n  deactivate() {\n    this.providers[this.currentChainId].engine.stop()\n    this.active = false\n  }\n\n  changeChainId(chainId) {\n    invariant(\n      Object.keys(this.providers).includes(chainId.toString()),\n      `No url found for chainId ${chainId}`,\n    )\n    if (this.active) {\n      this.providers[this.currentChainId].engine.stop()\n      this.currentChainId = chainId\n      this.providers[this.currentChainId].engine.start()\n      this.emitUpdate({\n        provider: this.providers[this.currentChainId],\n        chainId,\n      })\n    } else {\n      this.currentChainId = chainId\n    }\n  }\n}\n","import EventEmitter from 'events'\nimport { XMLHttpRequest } from 'xhr2-cookies'\n\n// -- global -------------------------------------------------------------- //\nconst wwindow = window\n\nconst XHR =\n  typeof wwindow !== 'undefined' &&\n  typeof wwindow.XMLHttpRequest !== 'undefined'\n    ? wwindow.XMLHttpRequest\n    : XMLHttpRequest\n\n// -- HTTPConnection ------------------------------------------------------ //\n\nclass HTTPConnection extends EventEmitter {\n  constructor(url) {\n    super()\n    this.url = url\n    this.post = {\n      body: null,\n      headers: { 'Content-Type': 'application/json' },\n      method: 'POST',\n    }\n  }\n\n  formatError(payload, message, code = -1) {\n    return {\n      error: { message, code },\n      id: payload.id,\n      jsonrpc: payload.jsonrpc,\n    }\n  }\n\n  send(payload, internal) {\n    return new Promise(resolve => {\n      if (payload.method === 'eth_subscribe') {\n        const error = this.formatError(\n          payload,\n          'Subscriptions are not supported by this HTTP endpoint',\n        )\n        return resolve(error)\n      }\n      const xhr = new XHR()\n\n      let responded = false\n\n      const res = (err, result) => {\n        if (!responded) {\n          xhr.abort()\n          responded = true\n          if (internal) {\n            internal(err, result)\n          } else {\n            const { id, jsonrpc } = payload\n            const response = err\n              ? { id, jsonrpc, error: { message: err.message, code: err.code } }\n              : { id, jsonrpc, result }\n            resolve(response)\n          }\n        }\n      }\n\n      try {\n        this.post.body = JSON.stringify(payload)\n      } catch (e) {\n        return res(e)\n      }\n\n      xhr.open('POST', this.url, true)\n      xhr.timeout = 60 * 1000\n      xhr.onerror = res\n      xhr.ontimeout = res\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4) {\n          try {\n            const response = JSON.parse(xhr.responseText)\n            res(response.error, response.result)\n          } catch (e) {\n            res(e)\n          }\n        }\n      }\n      xhr.send(JSON.stringify(payload))\n    })\n  }\n}\n\nexport default HTTPConnection\n","import WalletConnect from '@walletconnect/browser'\nimport WalletConnectQRCodeModal from '@walletconnect/qrcode-modal'\nimport ProviderEngine from 'web3-provider-engine'\nimport CacheSubprovider from 'web3-provider-engine/subproviders/cache'\nimport FixtureSubprovider from 'web3-provider-engine/subproviders/fixture'\nimport FilterSubprovider from 'web3-provider-engine/subproviders/filters'\nimport HookedWalletSubprovider from 'web3-provider-engine/subproviders/hooked-wallet'\nimport NonceSubprovider from 'web3-provider-engine/subproviders/nonce-tracker'\nimport SubscriptionsSubprovider from 'web3-provider-engine/subproviders/subscriptions'\nimport HTTPConnection from './http'\n\nconst VERSION = 1\n\nclass WalletConnectProvider extends ProviderEngine {\n  constructor(opts) {\n    super({ pollingInterval: opts.pollingInterval || 4000 })\n\n    this.bridge = opts.bridge || 'https://bridge.walletconnect.org'\n\n    this.qrcode = typeof opts.qrcode === 'undefined' || opts.qrcode !== false\n\n    this.rpc = opts.rpc || null\n\n    if (\n      !this.rpc &&\n      (!opts.infuraId ||\n        typeof opts.infuraId !== 'string' ||\n        !opts.infuraId.trim())\n    ) {\n      throw new Error('Missing one of the required parameters: rpc or infuraId')\n    }\n\n    this.infuraId = opts.infuraId || ''\n\n    this.wc = new WalletConnect({ bridge: this.bridge })\n    this.isConnecting = false\n    this.connected = false\n    this.isWalletConnect = true\n    this.connectCallbacks = []\n    this.accounts = []\n    this.chainId = typeof opts.chainId !== 'undefined' ? opts.chainId : 1\n    this.networkId = this.chainId\n    this.rpcUrl = ''\n\n    this.updateRpcUrl(this.chainId)\n\n    this.addProvider(\n      new FixtureSubprovider({\n        eth_hashrate: '0x00',\n        eth_mining: false,\n        eth_syncing: true,\n        net_listening: true,\n        web3_clientVersion: `WalletConnect/v${VERSION}/javascript`,\n      }),\n    )\n\n    this.addProvider(new CacheSubprovider())\n\n    this.addProvider(new SubscriptionsSubprovider())\n\n    this.addProvider(new FilterSubprovider())\n\n    this.addProvider(new NonceSubprovider())\n\n    this.addProvider(\n      new HookedWalletSubprovider({\n        getAccounts: async cb => {\n          try {\n            const wc = await this.getWalletConnector()\n            const accounts = wc.accounts\n            if (accounts && accounts.length) {\n              cb(null, accounts)\n            } else {\n              cb(new Error('Failed to get accounts'))\n            }\n          } catch (error) {\n            cb(error)\n          }\n        },\n        processMessage: async (msgParams, cb) => {\n          try {\n            const wc = await this.getWalletConnector()\n            const result = await wc.signMessage([\n              msgParams.from,\n              msgParams.data,\n            ])\n            cb(null, result)\n          } catch (error) {\n            cb(error)\n          }\n        },\n        processPersonalMessage: async (msgParams, cb) => {\n          try {\n            const wc = await this.getWalletConnector()\n            const result = await wc.signPersonalMessage([\n              msgParams.data,\n              msgParams.from,\n            ])\n            cb(null, result)\n          } catch (error) {\n            cb(error)\n          }\n        },\n        processSignTransaction: async (txParams, cb) => {\n          try {\n            const wc = await this.getWalletConnector()\n            const result = await wc.signTransaction(txParams)\n            cb(null, result)\n          } catch (error) {\n            cb(error)\n          }\n        },\n        processTransaction: async (txParams, cb) => {\n          try {\n            const wc = await this.getWalletConnector()\n            const result = await wc.sendTransaction(txParams)\n            cb(null, result)\n          } catch (error) {\n            cb(error)\n          }\n        },\n        processTypedMessage: async (msgParams, cb) => {\n          try {\n            const wc = await this.getWalletConnector()\n            const result = await wc.signTypedData([\n              msgParams.from,\n              msgParams.data,\n            ])\n            cb(null, result)\n          } catch (error) {\n            cb(error)\n          }\n        },\n      }),\n    )\n\n    this.addProvider({\n      handleRequest: async (payload, next, end) => {\n        try {\n          const { result } = await this.handleRequest(payload)\n          end(null, result)\n        } catch (error) {\n          end(error)\n        }\n      },\n      setEngine: _ => _,\n    })\n  }\n\n  enable() {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const wc = await this.getWalletConnector()\n        if (wc) {\n          this.start()\n          this.subscribeWalletConnector()\n          resolve(wc.accounts)\n        } else {\n          return reject(new Error('Failed to connect to WalleConnect'))\n        }\n      } catch (error) {\n        return reject(error)\n      }\n    })\n  }\n\n  async send(payload, callback) {\n    // Web3 1.0 beta.38 (and above) calls `send` with method and parameters\n    if (typeof payload === 'string') {\n      return new Promise((resolve, reject) => {\n        this.sendAsync(\n          {\n            id: 42,\n            jsonrpc: '2.0',\n            method: payload,\n            params: callback || [],\n          },\n          (error, response) => {\n            if (error) {\n              reject(error)\n            } else {\n              resolve(response.result)\n            }\n          },\n        )\n      })\n    }\n\n    // Web3 1.0 beta.37 (and below) uses `send` with a callback for async queries\n    if (callback) {\n      this.sendAsync(payload, callback)\n      return\n    }\n\n    const res = await this.handleRequest(payload, callback)\n\n    return res\n  }\n\n  onConnect(callback) {\n    this.connectCallbacks.push(callback)\n  }\n\n  triggerConnect(result) {\n    if (this.connectCallbacks && this.connectCallbacks.length) {\n      this.connectCallbacks.forEach(callback => callback(result))\n    }\n  }\n\n  async close() {\n    const wc = await this.getWalletConnector({ disableSessionCreation: true })\n    await wc.killSession()\n    await this.stop()\n    this.emit('close', 1000, 'Connection closed')\n  }\n\n  async handleRequest(payload) {\n    let result = null\n\n    try {\n      const wc = await this.getWalletConnector()\n\n      switch (payload.method) {\n        case 'wc_killSession':\n          await this.close()\n          result = null\n          break\n        case 'eth_accounts':\n          result = wc.accounts\n          break\n\n        case 'eth_coinbase':\n          result = wc.accounts[0]\n          break\n\n        case 'eth_chainId':\n          result = wc.chainId\n          break\n\n        case 'net_version':\n          result = wc.networkId || wc.chainId\n          break\n\n        case 'eth_uninstallFilter':\n          this.sendAsync(payload, _ => _)\n          result = true\n          break\n\n        default:\n          return this.handleOtherRequests(payload)\n      }\n    } catch (error) {\n      this.emit('error', error)\n      return\n    }\n\n    return this.formatResponse(payload, result)\n  }\n\n  formatResponse(payload, result) {\n    return {\n      id: payload.id,\n      jsonrpc: payload.jsonrpc,\n      result: result,\n    }\n  }\n\n  async handleOtherRequests(payload) {\n    if (payload.method.startsWith('eth_')) {\n      return this.handleReadRequests(payload)\n    }\n    const wc = await this.getWalletConnector()\n    const result = await wc.sendCustomRequest(payload)\n    return this.formatResponse(payload, result)\n  }\n\n  async handleReadRequests(payload) {\n    if (!this.http) {\n      this.emit('error', new Error('HTTP Connection not available'))\n      return\n    }\n    return this.http.send(payload)\n  }\n\n  // disableSessionCreation - if true, getWalletConnector won't try to create a new session\n  // in case the connector is disconnected\n  getWalletConnector({ disableSessionCreation = false } = {}) {\n    return new Promise((resolve, reject) => {\n      const wc = this.wc\n\n      if (this.isConnecting) {\n        this.onConnect(x => resolve(x))\n      } else if (!wc.connected && !disableSessionCreation) {\n        this.isConnecting = true\n        const sessionRequestOpions = this.chainId\n          ? { chainId: this.chainId }\n          : undefined\n        wc.createSession(sessionRequestOpions)\n          .then(() => {\n            if (this.qrcode) {\n              WalletConnectQRCodeModal.open(wc.uri, () => {\n                this.isConnecting = false\n                reject(new Error('User closed WalletConnect modal'))\n              })\n            }\n            wc.on('connect', (error, payload) => {\n              if (this.qrcode) {\n                WalletConnectQRCodeModal.close()\n              }\n              if (error) {\n                this.isConnecting = false\n                return reject(error)\n              }\n              this.isConnecting = false\n              this.connected = true\n\n              if (payload) {\n                // Handle session update\n                this.updateState(payload.params[0])\n              }\n              // Emit connect event\n              this.emit('connect')\n\n              this.triggerConnect(wc)\n              resolve(wc)\n            })\n          })\n          .catch(error => {\n            this.isConnecting = false\n            reject(error)\n          })\n      } else {\n        if (!this.connected) {\n          this.connected = true\n          this.updateState(wc.session)\n        }\n        resolve(wc)\n      }\n    })\n  }\n\n  async subscribeWalletConnector() {\n    const wc = await this.getWalletConnector()\n\n    wc.on('disconnect', (error, payload) => {\n      if (error) {\n        this.emit('error', error)\n        return\n      }\n\n      this.stop()\n    })\n\n    wc.on('session_update', (error, payload) => {\n      if (error) {\n        this.emit('error', error)\n        return\n      }\n\n      // Handle session update\n      this.updateState(payload.params[0])\n    })\n  }\n\n  async updateState(sessionParams) {\n    const { accounts, chainId, networkId, rpcUrl } = sessionParams\n\n    // Check if accounts changed and trigger event\n    if (!this.accounts || (accounts && this.accounts !== accounts)) {\n      this.accounts = accounts\n      this.emit('accountsChanged', accounts)\n    }\n\n    // Check if chainId changed and trigger event\n    if (!this.chainId || (chainId && this.chainId !== chainId)) {\n      this.chainId = chainId\n      this.emit('chainChanged', chainId)\n    }\n\n    // Check if networkId changed and trigger event\n    if (!this.networkId || (networkId && this.networkId !== networkId)) {\n      this.networkId = networkId\n      this.emit('networkChanged', networkId)\n    }\n\n    // Handle rpcUrl update\n    this.updateRpcUrl(this.chainId, rpcUrl || '')\n  }\n\n  updateRpcUrl(chainId, rpcUrl = '') {\n    const infuraNetworks = {\n      1: 'mainnet',\n      3: 'ropsten',\n      4: 'rinkeby',\n      5: 'goerli',\n      42: 'kovan',\n    }\n\n    const network = infuraNetworks[chainId]\n\n    if (!rpcUrl) {\n      if (this.rpc && this.rpc[chainId]) {\n        rpcUrl = this.rpc[chainId]\n      } else if (network) {\n        rpcUrl = `https://${network}.infura.io/v3/${this.infuraId}`\n      }\n    }\n\n    if (rpcUrl) {\n      // Update rpcUrl\n      this.rpcUrl = rpcUrl\n      // Handle http update\n      this.updateHttpConnection()\n    } else {\n      this.emit(\n        'error',\n        new Error(`No RPC Url available for chainId: ${chainId}`),\n      )\n    }\n  }\n\n  updateHttpConnection() {\n    if (this.rpcUrl) {\n      this.http = new HTTPConnection(this.rpcUrl)\n      this.http.on('payload', payload => this.emit('payload', payload))\n      this.http.on('error', error => this.emit('error', error))\n    }\n  }\n}\n\nexport default WalletConnectProvider\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport invariant from 'tiny-invariant'\nimport WalletConnectProvider from './WalletConnectProvider'\n\nconst __DEV__ = process.env.NODE_ENV !== 'production'\n\nexport const URI_AVAILABLE = 'URI_AVAILABLE'\n\nexport class UserRejectedRequestError extends Error {\n  constructor() {\n    super()\n    this.name = this.constructor.name\n    this.message = 'The user rejected the request.'\n  }\n}\n\nexport class WalletConnectConnector extends AbstractConnector {\n  constructor({ rpc, bridge, qrcode, pollingInterval }) {\n    invariant(\n      Object.keys(rpc).length === 1,\n      '@walletconnect/web3-provider is broken with >1 chainId, please use 1',\n    )\n    super({ supportedChainIds: Object.keys(rpc).map(k => Number(k)) })\n\n    this.rpc = rpc\n    this.bridge = bridge\n    this.qrcode = qrcode\n    this.pollingInterval = pollingInterval\n\n    this.handleChainChanged = this.handleChainChanged.bind(this)\n    this.handleAccountsChanged = this.handleAccountsChanged.bind(this)\n    this.handleDisconnect = this.handleDisconnect.bind(this)\n  }\n\n  handleChainChanged(chainId) {\n    if (__DEV__) {\n      console.log(\"Handling 'chainChanged' event with payload\", chainId)\n    }\n    this.emitUpdate({ chainId })\n  }\n\n  handleAccountsChanged(accounts) {\n    if (__DEV__) {\n      console.log(\"Handling 'accountsChanged' event with payload\", accounts)\n    }\n    this.emitUpdate({ account: accounts[0] })\n  }\n\n  handleDisconnect() {\n    if (__DEV__) {\n      console.log(\"Handling 'disconnect' event\")\n    }\n    this.emitDeactivate()\n    // we have to do this because of a @walletconnect/web3-provider bug\n    if (this.walletConnectProvider) {\n      this.walletConnectProvider.stop()\n      this.walletConnectProvider.removeListener(\n        'chainChanged',\n        this.handleChainChanged,\n      )\n      this.walletConnectProvider.removeListener(\n        'accountsChanged',\n        this.handleAccountsChanged,\n      )\n      this.walletConnectProvider = undefined\n    }\n\n    this.emitDeactivate()\n  }\n\n  async activate() {\n    if (!this.walletConnectProvider) {\n      this.walletConnectProvider = new WalletConnectProvider({\n        bridge: this.bridge,\n        rpc: this.rpc,\n        qrcode: this.qrcode,\n        pollingInterval: this.pollingInterval,\n      })\n      // only doing this here because this.walletConnectProvider.wc doesn't have a removeListener function...\n      this.walletConnectProvider.wc.on('disconnect', this.handleDisconnect)\n    }\n\n    this.walletConnectProvider.on('chainChanged', this.handleChainChanged)\n    this.walletConnectProvider.on('accountsChanged', this.handleAccountsChanged)\n\n    // ensure that the uri is going to be available, and emit an event if there's a new uri\n    if (!this.walletConnectProvider.wc.connected) {\n      await this.walletConnectProvider.wc.createSession({\n        chainId: this.walletConnectProvider.chainId,\n      })\n      this.emit(URI_AVAILABLE, this.walletConnectProvider.wc.uri)\n    }\n\n    const account = await this.walletConnectProvider\n      .enable()\n      .catch(error => {\n        // TODO ideally this would be a better check\n        if (error.message === 'User closed WalletConnect modal') {\n          throw new UserRejectedRequestError()\n        }\n\n        throw error\n      })\n      .then(accounts => accounts[0])\n\n    return { provider: this.walletConnectProvider, account }\n  }\n\n  async getProvider() {\n    return this.walletConnectProvider\n  }\n\n  async getChainId() {\n    return this.walletConnectProvider.send('eth_chainId')\n  }\n\n  async getAccount() {\n    return this.walletConnectProvider\n      .send('eth_accounts')\n      .then(accounts => accounts[0])\n  }\n\n  deactivate() {\n    if (this.walletConnectProvider) {\n      this.walletConnectProvider.stop()\n      this.walletConnectProvider.removeListener(\n        'chainChanged',\n        this.handleChainChanged,\n      )\n      this.walletConnectProvider.removeListener(\n        'accountsChanged',\n        this.handleAccountsChanged,\n      )\n    }\n  }\n\n  async close() {\n    this.walletConnectProvider.wc.killSession()\n  }\n}\n","import { NetworkConnector } from '@web3-react/network-connector'\nimport { InjectedConnector } from './Injected'\nimport NetworkWithSignerConnector from './NetworkWithSigner'\nimport { WalletConnectConnector } from './Walletconnect'\n\nconst POLLING_INTERVAL = 8000\n\nconst RPC_URLS = {\n  1: 'https://mainnet.easydai.app/nZHy9xQ5QJslmP2pCvGSH7JDLxHylM',\n  42: `https://kovan.infura.io/v3/${process.env.REACT_APP_INFURA_TOKEN || ''}`,\n}\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [1, 42],\n})\n\nexport const network = new NetworkConnector({\n  urls: { 1: RPC_URLS[1], 42: RPC_URLS[42] },\n  defaultChainId: 1,\n  pollingInterval: POLLING_INTERVAL,\n})\n\nexport const walletconnect = new WalletConnectConnector({\n  rpc: { 1: RPC_URLS[1] },\n  bridge: 'https://bridge.walletconnect.org',\n  qrcode: true,\n  pollingInterval: POLLING_INTERVAL,\n})\n\nexport const getNetworkWithSigner = privateKey => {\n  return new NetworkWithSignerConnector({\n    privateKey,\n    urls: { 1: RPC_URLS[1] },\n    defaultChainId: 1,\n    pollingInterval: POLLING_INTERVAL,\n  })\n}\n","import styled, { css } from 'styled-components'\n\nconst Container = styled.div`\n  ${props => css`\n    width: 100%;\n    max-width: ${props.maxWidth || '1280px'};\n    margin: 0 auto;\n    padding: 0 1.5rem;\n    display: ${props.flex ? 'flex' : 'block'};\n    flex-direction: ${props.direction};\n    flex-wrap: ${props.wrap};\n    justify-content: ${props.justifyContent};\n    align-items: ${props.alignItems};\n  `}\n`\n\nexport default Container\n","import React, { useEffect, useRef } from 'react'\n\nexport default function ClickAwayListener({\n  onClickAway,\n  mouseEvent = 'click',\n  touchEvent = 'touchend',\n  children,\n}) {\n  let node = useRef(null)\n\n  useEffect(() => {\n    const handleEvents = event => {\n      if (node.current && node.current.contains(event.target)) {\n        return\n      }\n\n      onClickAway()\n    }\n\n    document.addEventListener(mouseEvent, handleEvents)\n    document.addEventListener(touchEvent, handleEvents)\n\n    return () => {\n      document.removeEventListener(mouseEvent, handleEvents)\n      document.removeEventListener(touchEvent, handleEvents)\n    }\n  })\n\n  return <div ref={node}>{children}</div>\n}\n","import React, { useState, useCallback } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport styled from 'styled-components'\nimport { transparentize } from 'polished'\nimport ClickAwayListener from './ClickAwayListener'\nimport { injected, walletconnect } from '../connectors'\nimport { shortenAddress, getNetworkName } from '../utils'\n\nconst Button = styled.button`\n  height: 2.5rem;\n  border: 1px solid ${({ theme }) => theme.colors.white};\n  border-radius: 0.25rem;\n  padding: 0 1rem;\n  background-color: transparent;\n  color: ${({ theme }) => theme.colors.white};\n  font-size: 0.75rem;\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ${({ theme }) => transparentize(0.8, theme.colors.white)};\n  }\n\n  &:focus {\n    outline-color: ${({ theme }) => theme.colors.indicator};\n  }\n`\n\nconst MenuWrapper = styled.div`\n  position: relative;\n`\n\nconst Menu = styled.div`\n  position: absolute;\n  right: 0;\n  top: 3rem;\n  width: 12rem;\n  border-radius: 0.25rem;\n  background-color: ${({ theme }) => theme.colors.white};\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n  display: ${({ isOpen }) => (isOpen ? 'block' : 'none')};\n`\n\nconst MenuHeader = styled.div`\n  height: 2.5rem;\n  padding: 0;\n  border-bottom: 1px solid ${({ theme }) => theme.colors.gray};\n  font-size: 0.75rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst MenuItem = styled.button`\n  width: 100%;\n  height: 2.5rem;\n  border: 0;\n  background-color: transparent;\n  font-size: 1rem;\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ${({ theme }) =>\n      transparentize(0.95, theme.colors.black)};\n  }\n\n  &:focus {\n    outline-color: ${({ theme }) => theme.colors.indicator};\n  }\n\n  > *:not(:first-child) {\n    margin-left: 0.5rem;\n  }\n`\n\nconst ConnectorIndicator = styled.span`\n  width: 0.5rem;\n  height: 0.5rem;\n  border-radius: 50%;\n  background-color: ${({ theme, active }) =>\n    active ? theme.colors.success : theme.colors.error};\n`\n\nexport default function Web3Status() {\n  const {\n    active,\n    account,\n    chainId,\n    connector,\n    activate,\n    deactivate,\n  } = useWeb3React()\n  const [isOpen, setIsOpen] = useState(false)\n\n  const isConnectedMetaMask = connector === injected\n  const isConnectedWalletconnect = connector === walletconnect\n\n  const connectMetaMask = useCallback(async () => {\n    if (!isConnectedMetaMask) {\n      await activate(injected)\n    }\n    setIsOpen(false)\n  }, [activate, isConnectedMetaMask])\n\n  const connectWalletconnect = useCallback(async () => {\n    if (!isConnectedWalletconnect) {\n      await activate(walletconnect)\n    }\n    setIsOpen(false)\n  }, [activate, isConnectedWalletconnect])\n\n  const disconnect = useCallback(() => {\n    deactivate()\n    setIsOpen(false)\n  }, [deactivate])\n\n  return (\n    <ClickAwayListener onClickAway={() => setIsOpen(false)}>\n      <MenuWrapper>\n        <Button onClick={() => setIsOpen(!isOpen)}>\n          {active ? shortenAddress(account) : 'Connect'}\n        </Button>\n        <Menu isOpen={isOpen}>\n          {active && <MenuHeader>{getNetworkName(chainId)}</MenuHeader>}\n          <MenuItem onClick={connectMetaMask}>\n            <ConnectorIndicator active={isConnectedMetaMask} />\n            <span>MetaMask</span>\n          </MenuItem>\n          <MenuItem onClick={connectWalletconnect}>\n            <ConnectorIndicator active={isConnectedWalletconnect} />\n            <span>Walletconnect</span>\n          </MenuItem>\n          {active && <MenuItem onClick={disconnect}>Disconnect</MenuItem>}\n        </Menu>\n      </MenuWrapper>\n    </ClickAwayListener>\n  )\n}\n","import styled from 'styled-components'\n\nconst Text = styled.p`\n  margin: 0;\n  font-size: 1rem;\n  letter-spacing: 1px;\n  color: ${({ theme, error }) =>\n    error ? theme.colors.error : theme.colors.textColor};\n\n  &:not(:last-child) {\n    margin-bottom: 1rem;\n  }\n`\n\nexport default Text\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"system icon\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"system-icon\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(3.677240, 4.941843)\",\n  fill: \"#FFFFFF\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fillOpacity: 0.701540647,\n  cx: 1.5,\n  cy: 1.5,\n  r: 1\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy\",\n  fillOpacity: 0.701540647,\n  cx: 1.5,\n  cy: 7.05815668,\n  r: 1\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-2\",\n  cx: 1.5,\n  cy: 12.6163134,\n  r: 1.5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-3\",\n  cx: 6.04850699,\n  cy: 1.5,\n  r: 1.5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-4\",\n  cx: 6.04850699,\n  cy: 7.05815668,\n  r: 1.5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-5\",\n  cx: 6.04850699,\n  cy: 12.6163134,\n  r: 1.5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-8\",\n  cx: 10.597014,\n  cy: 1.5,\n  r: 1.5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-9\",\n  fillOpacity: 0.701540647,\n  cx: 10.597014,\n  cy: 7.05815668,\n  r: 1\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-10\",\n  fillOpacity: 0.701540647,\n  cx: 10.597014,\n  cy: 12.6163134,\n  r: 1\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-11\",\n  cx: 15.145521,\n  cy: 1.5,\n  r: 1.5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-12\",\n  fillOpacity: 0.701540647,\n  cx: 15.145521,\n  cy: 7.05815668,\n  r: 1\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval-Copy-13\",\n  fillOpacity: 0.701540647,\n  cx: 15.145521,\n  cy: 12.3913854,\n  r: 1\n})));\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.8edab182.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"12 6 12 12 16 14\"\n});\n\nvar SvgClock = function SvgClock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-clock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/clock.bfd03a74.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport Container from './Container'\nimport Web3Status from './Web3Status'\nimport Text from './Text'\nimport { ReactComponent as LogoIcon } from '../assets/logo.svg'\nimport { ReactComponent as ClockIcon } from '../assets/clock.svg'\nimport { formatUTC0 } from '../utils'\n\nconst HeaderWrapper = styled.header`\n  position: fixed;\n  z-index: 20;\n  width: 100vw;\n  height: 4rem;\n  background-color: ${({ theme }) => theme.colors.headerBackground};\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);\n  display: flex;\n`\n\nconst HeaderSpace = styled.div`\n  height: 4rem;\n`\n\nconst LogoWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${({ theme }) => theme.colors.white};\n\n  > *:not(:first-child) {\n    margin-left: 0.5rem;\n  }\n`\n\nconst LogoText = styled.div`\n  margin: 0;\n  font-size: 1.5rem;\n`\n\nconst HeaderGroup = styled.div`\n  display: flex;\n  align-items: center;\n\n  > *:not(:first-child) {\n    margin-left: 1rem;\n  }\n`\n\nconst Link = styled.a`\n  border-bottom: 2px solid ${({ theme }) => theme.colors.white};\n  padding-bottom: 0.25rem;\n  color: ${({ theme }) => theme.colors.white};\n  font-size: 1rem;\n  text-decoration: none;\n  display: none;\n\n  ${({ theme }) => theme.mediaQuery.sm`\n    display: inline-block;\n  `}\n`\n\nconst StyledClockIcon = styled(ClockIcon)`\n  color: ${({ theme }) => theme.colors.white};\n`\n\nconst ClockWrapper = styled.div`\n  font-family: 'roboto';\n  color: ${({ theme }) => theme.colors.white};\n  display: none;\n\n  > ${Text} {\n    color: ${({ theme }) => theme.colors.white};\n  }\n\n  > *:not(:first-child) {\n    margin-left: 0.5rem;\n  }\n\n  ${({ theme }) => theme.mediaQuery.sm`\n    display: flex;\n    align-items: center;\n  `}\n`\n\nconst targetAsset = process.env.REACT_APP_TARGET_ASSET\n\nexport default function Header() {\n  const [now, setNow] = useState(Date.now())\n  useEffect(() => {\n    const timeout = setTimeout(() => setNow(Date.now()), 1000)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [now])\n\n  return (\n    <>\n      <HeaderWrapper>\n        <Container flex justifyContent='space-between' alignItems='center'>\n          <HeaderGroup>\n            <LogoWrapper>\n              <LogoIcon />\n              <LogoText>3F Mutual ({targetAsset})</LogoText>\n            </LogoWrapper>\n            <ClockWrapper>\n              <StyledClockIcon />\n              <Text>{formatUTC0(now)}</Text>\n            </ClockWrapper>\n          </HeaderGroup>\n          <HeaderGroup>\n            <Link href='https://3fmutual.hostedwiki.co/' target='_blank'>\n              Wiki\n            </Link>\n            <Web3Status />\n          </HeaderGroup>\n        </Container>\n      </HeaderWrapper>\n      <HeaderSpace />\n    </>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { INSURANCE_ADDRESSES } from '../constants'\n\nconst FooterWrapper = styled.footer`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n\n  > *:not(:first-child) {\n    margin-left: 1rem;\n  }\n`\n\nconst Link = styled.a`\n  padding: 0.5rem;\n  border-radius: 0.25rem;\n  text-decoration: none;\n  font-size: 1rem;\n  color: ${({ theme }) => theme.colors.buttonBackground};\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n`\n\nexport default function Footer() {\n  return (\n    <FooterWrapper>\n      <Link href='https://hakka.finance/' target='_blank'>Hakka Finance</Link>\n      <Link href={`https://etherscan.io/address/${INSURANCE_ADDRESSES[1]}`} target='_blank'>Contract Adddress</Link>\n      <Link href='https://discord.gg/cU4D2a8'>Discord</Link>\n    </FooterWrapper>\n  )\n}","import styled from 'styled-components'\n\nconst Bold = styled.b`\n  font-weight: 600;\n`\n\nexport default Bold\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"currentColor\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m960 730.9-539.8 245.4 539.8 319.1 539.8-319.1z\",\n  opacity: 0.6\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m420.2 976.3 539.8 319.1v-564.5-650.3z\",\n  opacity: 0.45\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m960 80.6v650.3 564.5l539.8-319.1z\",\n  opacity: 0.8\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m420.2 1078.7 539.8 760.7v-441.8z\",\n  opacity: 0.45\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m960 1397.6v441.8l540.2-760.7z\",\n  opacity: 0.8\n}));\n\nvar SvgEthereum = function SvgEthereum(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1920 1920\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEthereum, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ethereum.936922af.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components'\nimport { ReactComponent as Ethereum } from '../assets/ethereum.svg'\n\nconst Icon = styled(Ethereum)`\n  width: 1.25rem;\n  height: 1.25rem;\n  display: inline-block;\n`\n\nexport default Icon\n","import React from 'react'\nimport styled, { keyframes } from 'styled-components'\nimport Container from './Container'\nimport Bold from './Bold'\nimport EthereumIcon from './EthereumIcon'\nimport JumbotronImage from '../assets/jumbotron-background.svg'\nimport IllustrationImage from '../assets/illustration.png'\n\nconst JumbotronWrapper = styled.section`\n  padding-bottom: 2.25rem;\n  background-color: ${({ theme }) => theme.colors.primary};\n  background-image: url(${JumbotronImage});\n  color: ${({ theme }) => theme.colors.white};\n`\n\nconst Headline = styled.h1`\n  margin: 0;\n  padding: 3rem 0;\n  font-family: 'Noto Serif', serif;\n  font-size: 2.8rem;\n  letter-spacing: 1.5px;\n  line-height: 1.4;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);\n  transition: font-size 350ms ease-out;\n\n  ${({ theme }) => theme.mediaQuery.md`\n    font-size: 3.2rem;\n  `}\n`\n\nconst breathe = keyframes`\n  0% {\n    background-color: rgba(255, 255, 255, 0.4);\n    box-shadow: 0 0 5px 0 rgba(255, 255, 255, 0.5);\n  }\n  45% {\n    background-color: rgba(255, 255, 255, 0.75);\n    box-shadow: 0 0 10px 8px rgba(255, 255, 255, 0.5);\n  }\n  55% {\n    background-color: rgba(255, 255, 255, 0.75);\n    box-shadow: 0 0 10px 8px rgba(255, 255, 255, 0.5);\n  }\n  100% {\n    background-color: rgba(255, 255, 255, 0.4);\n    box-shadow: 0 0 5px 0 rgba(255, 255, 255, 0.5);\n  }\n`\n\nconst Bulletin = styled.div`\n  width: fit-content;\n  padding: 2rem;\n  border-radius: 1rem;\n  color: ${({ theme }) => theme.colors.primary};\n  background: rgba(255, 255, 255, 0.4);\n  font-weight: 500;\n  font-size: 1.5rem;\n  animation: ${breathe} 3s ease-out infinite;\n`\n\nconst Illustration = styled.div`\n  display: none;\n\n  ${({ theme }) => theme.mediaQuery.md`\n    flex: 1 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  `}\n\n  > img {\n    width: 60%;\n  }\n`\n\nconst Strong = styled(Bold)`\n  font-size: 2rem;\n`\n\nexport default function Jumbotron(props) {\n  const { ended, odd } = props\n\n  return (\n    <JumbotronWrapper>\n      <Container flex>\n        <div>\n          <Headline>\n            My insurance, <br /> Your insurance, <br />Insurance for all!\n          </Headline>\n          <Bulletin>\n            {ended ? (\n              <>\n                <div>MakerDAO emergency shutdown!!</div>\n                <div>Go claim compensation!!</div>\n              </>\n            ) : (\n              <span>\n                Get <Strong>{odd} ×</Strong> <EthereumIcon /> if MakerDAO\n                shutdowns today.\n              </span>\n            )}\n          </Bulletin>\n        </div>\n        <Illustration>\n          <img src={IllustrationImage} alt='illustration' />\n        </Illustration>\n      </Container>\n    </JumbotronWrapper>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport Container from './Container'\n\nconst BannerWrapper = styled.section`\n  background-color: ${({ theme }) => theme.colors.white};\n`\n\nconst BannerContainer = styled(Container)`\n  flex-direction: column;\n\n  ${({ theme }) => theme.mediaQuery.sm`\n    flex-direction: row;\n  `}\n`\n\nconst BannerItem = styled.article`\n  flex: 1 1;\n  padding: 2.5rem 0;\n  text-align: center;\n\n  > *:not(:first-child) {\n    margin-top: 1.25rem;\n  }\n`\n\nconst Title = styled.div`\n  font-size: 1rem;\n`\n\nconst NumberText = styled.div`\n  font-size: 1.5rem;\n`\n\nexport default function Banner(props) {\n  const {\n    pot = 0,\n    totalShares = 0,\n    totalInsurances = 0,\n    totalAgents = 0,\n  } = props\n\n  return (\n    <BannerWrapper>\n      <BannerContainer flex>\n        <BannerItem>\n          <Title>ETH in Pool</Title>\n          <NumberText>{pot}</NumberText>\n        </BannerItem>\n        <BannerItem>\n          <Title>Total Shares</Title>\n          <NumberText>{totalShares}</NumberText>\n        </BannerItem>\n        <BannerItem>\n          <Title>All Active Insurances</Title>\n          <NumberText>{totalInsurances}</NumberText>\n        </BannerItem>\n        <BannerItem>\n          <Title>Agents</Title>\n          <NumberText>{totalAgents}</NumberText>\n        </BannerItem>\n      </BannerContainer>\n    </BannerWrapper>\n  )\n}\n","import React, { useCallback } from 'react'\nimport styled from 'styled-components'\n\nconst TabsWrapper = styled.nav`\n  position: sticky;\n  top: 4rem;\n  z-index: 10;\n  width: 100vw;\n  height: 4rem;\n  background-color: ${({ theme }) => theme.colors.tabsBackground};\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);\n  display: flex;\n  overflow: auto;\n  white-space: nowrap;\n\n  ${({ theme }) => theme.mediaQuery.sm`\n    justify-content: center;\n  `}\n`\n\nconst TabList = styled.div`\n  height: 100%;\n  display: flex;\n`\n\nconst Tab = styled.button.attrs(() => ({ type: 'button' }))`\n  position: relative;\n  padding: 0 1.25rem;\n  border: 0;\n  border-bottom: 0.25rem solid;\n  border-color: ${({ theme, active }) =>\n    active ? theme.colors.indicator : 'transparent'};\n  background-color: transparent;\n  color: ${({ theme }) => theme.colors.white};\n  font-size: 1.25rem;\n  font-weight: ${({ active }) => (active ? 600 : 400)};\n  font-family: 'Lora', serif;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 1rem;\n    right: 0.75rem;\n    width: 0.5rem;\n    height: 0.5rem;\n    border-radius: 50%;\n    background-color: ${({ theme }) => theme.colors.error};\n    display: ${({ badge }) => badge ? 'block' : 'none'};\n  }\n`\n\nexport default function Tabs(props) {\n  const { items = [], value = 0, onChange = () => {} } = props\n\n  const handleTabClick = useCallback(\n    tabIndex => () => {\n      onChange(tabIndex)\n    },\n    [onChange],\n  )\n\n  const renderTabList = () => {\n    return items.map((item, index) => {\n      const text = item.text || item\n      const number = item.index || index\n      const badge = item.badge || false\n      return (\n        <Tab\n          key={`${text}${number}`}\n          active={index === value}\n          badge={badge}\n          onClick={handleTabClick(number)}\n        >\n          {text}\n        </Tab>\n      )\n    })\n  }\n\n  return (\n    <TabsWrapper>\n      <TabList>{renderTabList()}</TabList>\n    </TabsWrapper>\n  )\n}\n","export default function TabPanel(props) {\n  const { value, index, children } = props\n\n  return value === index && children\n}\n","import styled, { css } from 'styled-components'\n\nconst Box = styled.div`\n  ${props => css`\n    width: 100%;\n    max-width: ${props.maxWidth};\n    min-height: ${props.minHeight};\n    margin-top: ${(props.mt || props.my || 0) / 2}rem;\n    margin-left: ${(props.ml || props.mx || 0) / 2}rem;\n    margin-bottom: ${(props.mb || props.my || 0) / 2}rem;\n    margin-right: ${(props.mr || props.mx || 0) / 2}rem;\n    padding-top: ${(props.pt || props.py || 0) / 2}rem;\n    padding-left: ${(props.pl || props.px || 0) / 2}rem;\n    padding-bottom: ${(props.pb || props.py || 0) / 2}rem;\n    padding-right: ${(props.pr || props.px || 0) / 2}rem;\n    display: ${props.flex ? 'flex' : 'block'};\n    flex-direction: ${props.direction};\n    flex-wrap: ${props.wrap};\n    justify-content: ${props.justifyContent};\n    align-items: ${props.alignItems};\n  `}\n`\n\nexport default Box\n","import React, { useMemo } from 'react'\nimport styled from 'styled-components'\nimport createPlotlyComponent from 'react-plotly.js/factory'\nimport Plotly from 'plotly.js-basic-dist'\n\nconst Plot = createPlotlyComponent(Plotly)\n\nconst StyledPlot = styled(Plot)`\n  height: 450px;\n`\n\nconst layout = {\n  height: 450,\n  xaxis: {\n    title: 'days after',\n    rangemode: 'tozero',\n    dtick: 5,\n    fixedrange: true,\n    showline: true,\n    autoMargin: true,\n  },\n  yaxis: {\n    title: 'units of insurance left',\n    rangemode: 'tozero',\n    fixedrange: true,\n    showline: true,\n  },\n  yaxis2: {\n    title: 'estimated compensation per unit',\n    rangemode: 'tozero',\n    fixedrange: true,\n    showline: true,\n    showgrid: false,\n    titlefont: {color: 'rgb(76, 175, 80)'},\n    tickfont: {color: 'rgb(76, 175, 80)'},\n    overlaying: 'y',\n    side: 'right'\n  },\n  legend: {\n    orientation: 'h',\n    x: 0.5,\n    xanchor: 'center',\n    y: 1.1,\n    yanchor: 'top',\n  },\n  paper_bgcolor: 'transparent',\n  plot_bgcolor: 'rgba(255, 255, 255, .4)',\n  margin: { l: 80, r: 80, t: 20, b: 60 },\n  font: { size: 14 },\n}\n\nconst config = {\n  responsive: true,\n  displayModeBar: false,\n}\n\nexport default function LineChart(props) {\n  const {\n    value = [],\n    chartStyles = {},\n    value2 = [],\n    chart2Styles = {}\n  } = props\n  const x = useMemo(() => value.map((v, i) => i), [value])\n  const x2 = useMemo(() => value2.map((v, i) => i), [value2])\n\n  const data = useMemo(() => {\n    return value2.length === 0\n      ? [\n          {\n            x: x,\n            y: value,\n            type: 'scatter',\n            mode: 'lines+markers',\n            name: 'units',\n            ...chartStyles,\n          }\n        ]\n      : [\n          {\n            x: x,\n            y: value,\n            type: 'scatter',\n            name: 'units',\n            mode: 'lines+markers',\n            ...chartStyles,\n          },\n          {\n            x: x2,\n            y: value2,\n            type: 'scatter',\n            mode: 'lines+markers',\n            name: 'compensation',\n            yaxis: 'y2',\n            ...chart2Styles,\n          }\n        ]\n  }, [chart2Styles, chartStyles, value, value2, x, x2])\n\n  return <StyledPlot data={data} layout={layout} config={config} />\n}\n","import styled from 'styled-components'\n\nconst Card = styled.div`\n  width: 100%;\n  max-width: 37.5rem;\n  border-radius: 0.5rem;\n  background-color: ${({ theme }) => theme.colors.white};\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);\n`\n\nexport default Card\n","import styled from 'styled-components'\n\nconst CardContent = styled.div`\n  padding: 1.5rem;\n`\n\nexport default CardContent\n","import styled from 'styled-components'\n\nconst Divider = styled.div`\n  width: 100%;\n  height: 1px;\n  background-color: ${({ theme }) => theme.colors.divider};\n`\n\nexport default Divider\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst InputField = styled.div`\n  margin-bottom: 1.5rem;\n`\n\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 0.5rem;\n  margin-left: 1rem;\n  font-size: 1rem;\n`\n\nconst Input = styled.input`\n  display: block;\n  width: 100%;\n  height: ${({ height }) => height || '3rem'};\n  border: 2px solid ${({ theme }) => theme.colors.gray};\n  border-radius: 0.25rem;\n  padding: 0.75rem 1rem;\n  background-color: ${({ theme }) => theme.colors.white};\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n`\n\nexport default function TextField(props) {\n  const { label = '', multiline = false, ...inputProps } = props\n\n  return (\n    <InputField>\n      <Label>{label}</Label>\n      <Input as={multiline ? 'textarea' : 'input'} {...inputProps} />\n    </InputField>\n  )\n}\n","import styled, { keyframes } from 'styled-components'\n\nconst pulse = keyframes`\n  0% {\n    box-shadow: 0 0 0 0 rgba(23, 162, 184, 0.8);\n  }\n  100% {\n    box-shadow: 0 0 0 10px rgba(23, 162, 184, 0);\n  }\n`\n\nconst Button = styled.button`\n  display: block;\n  width: 100%;\n  height: 3rem;\n  border: 0;\n  border-radius: 0.25rem;\n  background-color: ${({ theme }) => theme.colors.buttonBackground};\n  color: ${({ theme }) => theme.colors.buttonText};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  animation: ${pulse} 1s infinite;\n\n  &[disabled] {\n    background-color: ${({ theme }) => theme.colors.gray};\n    cursor: not-allowed;\n    animation: none;\n  }\n`\n\nexport default Button\n","import React, { useState, useCallback, useEffect } from 'react'\nimport styled from 'styled-components'\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport Divider from './Divider'\nimport Text from './Text'\nimport TextField from './TextField'\nimport Button from './Button'\nimport Bold from './Bold'\nimport EthereumIcon from './EthereumIcon'\nimport { formatUTC0 } from '../utils'\n\nconst Summary = styled.div`\n  color: ${({ theme }) => theme.colors.textColor};\n  margin: 1.5rem 0;\n`\n\nexport default function PurchaseForm(props) {\n  const {\n    shares = 0,\n    insurances = 0,\n    lastBought,\n    price = 0,\n    paid,\n    onChange = () => {},\n    onSubmit = () => {},\n  } = props\n\n  const [amount, setAmount] = useState('')\n  const [period, setPeriod] = useState('')\n  const [isPending, setIsPending] = useState(false)\n  const [errorMessage, setErrorMessage] = useState()\n\n  useEffect(() => {\n    onChange(amount, period)\n  }, [amount, onChange, period])\n\n  useEffect(() => {\n    if (parseFloat(paid) < 1e-9) {\n      setErrorMessage('The Ether you pay should be greater than 0.000000001')\n    } else {\n      setErrorMessage('')\n    }\n  }, [paid])\n\n  const onPurchase = useCallback(async () => {\n    try {\n      setIsPending(true)\n      setErrorMessage()\n      await onSubmit(amount, period)\n      setAmount('')\n      setPeriod('')\n    } catch (e) {\n      setErrorMessage(e.message)\n    } finally {\n      setIsPending(false)\n    }\n  }, [amount, onSubmit, period])\n\n  return (\n    <Card>\n      <CardContent>\n        <Text>\n          <Bold>Your Shares:</Bold> {shares}\n        </Text>\n        <Text>\n          <Bold>Your Active Insurances:</Bold> {insurances}\n        </Text>\n        <Text>\n          <Bold>Last Bought:</Bold>{' '}\n          {lastBought && !isNaN(lastBought)\n            ? formatUTC0(lastBought, true)\n            : '-'}\n        </Text>\n        <Text>\n          <Bold>Now:</Bold> {formatUTC0(Date.now(), true)}\n        </Text>\n        <Text>\n          Learn more on our{' '}\n          <a href='https://3fmutual.hostedwiki.co/' target='_blank' rel=\"noopener noreferrer\">\n            Wiki\n          </a>.\n        </Text>\n      </CardContent>\n      <Divider />\n      <CardContent>\n        <Text>\n          <Bold>Basis Price:</Bold> {price} <EthereumIcon />\n        </Text>\n        <TextField\n          type='number'\n          label='Unit of Insurance:'\n          placeholder='1.0 unit'\n          step='0.01'\n          value={amount}\n          onChange={event => setAmount(event.target.value)}\n        />\n        <TextField\n          type='number'\n          label='Time:'\n          placeholder='0 ~ 100 days'\n          step='1'\n          value={period}\n          onChange={event => {\n            if (event.target.value) {\n              setPeriod(Math.min(Math.abs(Math.round(event.target.value)), 100))\n            } else {\n              setPeriod('')\n            }\n          }}\n        />\n        {paid && (\n          <Summary>\n            You will pay <Bold>{paid}</Bold>\n            <EthereumIcon /> for <Bold>{amount}</Bold> units for{' '}\n            <Bold>{period}</Bold> days\n          </Summary>\n        )}\n        <Text error>{errorMessage}</Text>\n        <Button disabled={isPending || !!errorMessage} onClick={onPurchase}>\n          {isPending ? 'Pending...' : 'Purchase'}\n        </Button>\n      </CardContent>\n    </Card>\n  )\n}\n","import React, { useState, useCallback } from 'react'\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport Text from './Text'\nimport Button from './Button'\nimport Bold from './Bold'\nimport EthereumIcon from './EthereumIcon'\n\nexport default function WithdrawForm(props) {\n  const { dividends = 0, bonus = 0, total = 0, onSubmit = () => {} } = props\n  const [isPending, setIsPending] = useState(false)\n  const [errorMessage, setErrorMessage] = useState()\n\n  const onClickButton = useCallback(async () => {\n    try {\n      setErrorMessage('')\n      setIsPending(true)\n      await onSubmit()\n    } catch (err) {\n      setErrorMessage(err.message)\n    } finally {\n      setIsPending(false)\n    }\n  }, [onSubmit])\n\n  return (\n    <Card>\n      <CardContent>\n        <Text>\n          <Bold>Your dividends:</Bold> {dividends} <EthereumIcon />\n        </Text>\n        <Text>\n          <Bold>Your referral bonus:</Bold> {bonus} <EthereumIcon />\n        </Text>\n        <Text>\n          <Bold>Total:</Bold> {total} <EthereumIcon />\n        </Text>\n        <Text error>{errorMessage}</Text>\n        <Button disabled={isPending || parseFloat(total) === 0} onClick={onClickButton}>\n          {isPending ? 'Pending...' : 'Withdraw'}\n        </Button>\n      </CardContent>\n    </Card>\n  )\n}\n","import React, { useState, useCallback } from 'react'\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport Text from './Text'\nimport Button from './Button'\nimport Bold from './Bold'\nimport Divider from './Divider'\nimport EthereumIcon from './EthereumIcon'\n\nexport default function ClaimForm(props) {\n  const { insurances = 0, estimatedCompensation = 0, canClaim, onSubmit = () => {} } = props\n  const [isPending, setIsPending] = useState(false)\n  const [errorMessage, setErrorMessage] = useState()\n\n  const onClickButton = useCallback(async () => {\n    try {\n      setErrorMessage('')\n      setIsPending(true)\n      await onSubmit()\n    } catch (err) {\n      setErrorMessage(err.message)\n    } finally {\n      setIsPending(false)\n    }\n  }, [onSubmit])\n\n  return (\n    <Card>\n      <CardContent>\n        <Text>\n          <Bold>\n            If MakerDAO shutdowned, you can claim the compensation from the\n            contract by pressing the button below!\n          </Bold>\n        </Text>\n      </CardContent>\n      <Divider />\n      <CardContent>\n        <Text>\n          <Bold>Your Active Insurances:</Bold> {insurances} <EthereumIcon />\n        </Text>\n        <Text>\n          <Bold>Estimated Compensation:</Bold> {estimatedCompensation} <EthereumIcon />\n        </Text>\n        <Text error>{errorMessage}</Text>\n        <Button disabled={isPending || !canClaim} onClick={onClickButton}>\n          {isPending ? 'Pending...' : 'Claim'}\n        </Button>\n      </CardContent>\n    </Card>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport Text from './Text'\nimport Bold from './Bold'\n\nconst Row = styled.div`\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n\n  flex-direction: column;\n\n  > *:not(:first-child) {\n    margin-top: 2rem;\n    margin-left: 0;\n  }\n  \n  > ${Text} {\n    margin: 0;\n  }\n\n  ${({ theme }) => theme.mediaQuery.md`\n    flex-direction: row;\n\n    > *:not(:first-child) {\n      margin-top: 0;\n      margin-left: 2rem;\n    }\n  `}\n`\n\nconst Avatar = styled.img`\n  width: 6rem;\n  height: 6rem;\n  border: 1px solid ${({ theme }) => theme.colors.divider};\n  border-radius: 50%;\n`\n\nconst NoteText = styled(Text)`\n  font-size: 0.75rem;\n  font-style: italic;\n`\n\nconst Greeting = styled.p`\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 400;\n  font-style: italic;\n`\n\nexport default function AgentCard(props) {\n  const { isAgent = false, name = '', id = 0, level = 0, greeting = '', image = '' } = props\n\n  return (\n    <Card>\n      <CardContent>\n        {isAgent ? (\n          <>\n            <Row>\n              {!!image.length && <Avatar src={image} alt='agent avatar' />}\n              <div>\n                <Text>\n                  <Bold>Your Agent's Name:</Bold> {name}\n                </Text>\n                <Text>\n                  <Bold>Your Agent's ID:</Bold> {id}\n                </Text>\n                <Text>\n                  <Bold>Your Agent's Level:</Bold> {level}\n                </Text>\n                <NoteText>\n                  * Agent is the person to promote you to buy insurance.\n                </NoteText>\n              </div>\n            </Row>\n            <Greeting>{greeting}</Greeting>\n          </>\n        ) : (\n          <Text>\n            <Bold>You don't have any agent!</Bold>\n          </Text>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n","import React, { useCallback, useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport TextField from './TextField'\nimport Button from './Button'\nimport Text from './Text'\n\nconst Label = styled.div`\n  margin-left: 1rem;\n  font-size: 1rem;\n`\n\nconst RuleItem = styled.li`\n  margin-bottom: 0.5rem;\n  margin-left: 1.5rem;\n  font-size: 0.75rem;\n  color: ${({ theme, active }) =>\n    active ? theme.colors.error : theme.colors.textColor};\n`\n\nconst LENGTH_ERROR = 1\nconst CHARACTER_ERROR = 2\nconst PREFIX_ERROR = 3\nconst ONLY_DIGITS_ERROR = 4\nconst SPACE_ERROR = 5\nconst CONSECUTIVE_SPACE_ERROR = 6\n\nexport default function RegisterForm(props) {\n  const { onSubmit = () => {} } = props\n  const [name, setName] = useState('')\n  const [isPending, setIsPending] = useState(false)\n  const [errorMessage, setErrorMessage] = useState('')\n  const [formatErrors, setFormatErrors] = useState([])\n\n  useEffect(() => {\n    let errorCodes = []\n    if (name.length < 1 || name.length > 32) {\n      errorCodes = [...errorCodes, LENGTH_ERROR]\n    }\n    if (/[~!@#$%^&*()_+~`<>?;\"':;|/,.[\\]\\\\]+/.test(name)) {\n      errorCodes = [...errorCodes, CHARACTER_ERROR]\n    }\n    if (name.startsWith('0x')) {\n      errorCodes = [...errorCodes, PREFIX_ERROR]\n    }\n    if (name && !isNaN(name)) {\n      errorCodes = [...errorCodes, ONLY_DIGITS_ERROR]\n    }\n    if (name.startsWith(' ') || name.endsWith(' ')) {\n      errorCodes = [...errorCodes, SPACE_ERROR]\n    }\n    if (name.includes('  ')) {\n      errorCodes = [...errorCodes, CONSECUTIVE_SPACE_ERROR]\n    }\n    setFormatErrors(errorCodes)\n  }, [name])\n\n  const onClickButton = useCallback(async () => {\n    try {\n      setErrorMessage('')\n      setIsPending(true)\n      if (formatErrors.length === 0) {\n        await onSubmit(name)\n      }\n    } catch (err) {\n      setErrorMessage(err.message)\n    } finally {\n      setIsPending(false)\n    }\n  }, [formatErrors, name, onSubmit])\n\n  return (\n    <Card>\n      <CardContent>\n        <TextField\n          type='text'\n          label='Name'\n          value={name}\n          onChange={event => setName(event.target.value)}\n        />\n        <Label>Your Name Rules</Label>\n        <ul>\n          <RuleItem active={formatErrors.includes(LENGTH_ERROR)}>\n            must consist of <strong>1~32</strong> characters\n          </RuleItem>\n          <RuleItem active={formatErrors.includes(CHARACTER_ERROR)}>\n            must use only <strong>a-z/0-9 and spaces</strong>\n          </RuleItem>\n          <RuleItem active={formatErrors.includes(PREFIX_ERROR)}>\n            must NOT begin with 0x\n          </RuleItem>\n          <RuleItem active={formatErrors.includes(ONLY_DIGITS_ERROR)}>\n            must NOT consist of digits only\n          </RuleItem>\n          <RuleItem active={formatErrors.includes(SPACE_ERROR)}>\n            must NOT begin with or end with spaces\n          </RuleItem>\n          <RuleItem active={formatErrors.includes(CONSECUTIVE_SPACE_ERROR)}>\n            must NOT contain consecutive spaces\n          </RuleItem>\n        </ul>\n        <Text error>{errorMessage}</Text>\n        <Button\n          onClick={onClickButton}\n          disabled={isPending || !!formatErrors.length}\n        >\n          {isPending ? 'Pending...' : 'Pay 0.01 ETH to Register'}\n        </Button>\n      </CardContent>\n    </Card>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Tracker = styled.div`\n  position: relative;\n  width: 10rem;\n  height: 1.25rem;\n  border-radius: 0.25rem;\n  background-color: #fafafa;\n  box-shadow: inset 0 0 0.5rem ${({ theme }) => theme.colors.divider};\n`\n\nconst ProgressInTracker = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: ${({ percentage }) => `${Math.min(10 * percentage, 10)}rem`};\n  height: 1.25rem;\n  border-radius: 0.25rem;\n  background-color: ${({ theme }) => theme.colors.indicator};\n`\n\nconst ProgressPercentage = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  font-size: 0.75rem;\n  text-align: center;\n  line-height: 1.25rem;\n  color: ${({ theme }) => theme.colors.white};\n  text-shadow: 1px 1px 1px ${({ theme }) => theme.colors.primary},\n    1px -1px 1px ${({ theme }) => theme.colors.primary},\n    -1px 1px 1px ${({ theme }) => theme.colors.primary},\n    -1px -1px 1px ${({ theme }) => theme.colors.primary};\n`\n\nexport default function ProgressBar(props) {\n  const { percentage } = props\n\n  return (\n    <Tracker>\n      <ProgressInTracker percentage={percentage} />\n      <ProgressPercentage>{`${(percentage * 100).toFixed(\n        2,\n      )}%`}</ProgressPercentage>\n    </Tracker>\n  )\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 9,\n  y: 9,\n  width: 13,\n  height: 13,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\n});\n\nvar SvgCopy = function SvgCopy(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-copy\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCopy, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/copy.9b9cb11e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useCallback, useMemo } from 'react'\nimport styled from 'styled-components'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport Text from './Text'\nimport Bold from './Bold'\nimport Button from './Button'\nimport TextField from './TextField'\nimport Divider from './Divider'\nimport ProgressBar from './ProgressBar'\nimport { ReactComponent as CopyIcon } from '../assets/copy.svg'\nimport { shortenAddress } from '../utils'\n\nconst Row = styled.div`\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n\n  > *:not(:first-child) {\n    margin-left: 0.5rem;\n  }\n\n  > ${Text} {\n    margin: 0;\n  }\n`\n\nconst ProfileRow = styled(Row)`\n  flex-direction: column;\n\n  > *:not(:first-child) {\n    margin-top: 2rem;\n    margin-left: 0;\n  }\n\n  ${({ theme }) => theme.mediaQuery.md`\n    flex-direction: row;\n\n    > *:not(:first-child) {\n      margin-top: 0;\n      margin-left: 2rem;\n    }\n  `}\n`\n\nconst LinkRow = styled.div`\n  height: 3rem;\n  border: 2px solid ${({ theme }) => theme.colors.gray};\n  display: flex;\n  justify-content: center;\n`\n\nconst LinkBox = styled.div`\n  padding: 0 1rem;\n  flex: 1 1;\n  background-color: ${({ theme }) => theme.colors.white};\n  box-shadow: inset 0 0 1rem ${({ theme }) => theme.colors.divider};\n  text-align: center;\n  line-height: 3rem;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst CopyButton = styled.button`\n  width: 3rem;\n  flex-basis: 3rem;\n  margin: 0;\n  border: 0;\n  padding: 0;\n  background-color: ${({ theme }) => theme.colors.buttonBackground};\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.indicator};\n  }\n`\n\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 0.5rem;\n  margin-left: 1rem;\n  font-size: 1rem;\n`\n\nconst Title = styled.div`\n  margin-top: 2rem;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n  text-align: center;\n`\n\nconst TextBlock = styled.div`\n  margin-bottom: 1rem;\n  border: 1px solid ${({ theme }) => theme.colors.divider};\n  border-radius: 0.25rem;\n  padding: 0.75rem 1rem;\n`\n\nconst SmallButton = styled(Button)`\n  height: 2rem;\n  width: fit-content;\n  padding: 0 1rem;\n  font-size: 0.75rem;\n`\n\nconst EditButton = styled(SmallButton)`\n  animation: none;\n`\n\nconst TextButton = styled.a`\n  height: 2rem;\n  padding: 0 1rem;\n  border-radius: 0.25rem;\n  color: ${({ theme }) => theme.colors.buttonBackground};\n  font-size: 0.75rem;\n  text-decoration: none;\n  display: inline-flex;\n  align-items: center;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n`\n\nconst StyledCopyIcon = styled(CopyIcon)`\n  width: 1rem;\n  height: 1rem;\n  color: ${({ theme }) => theme.colors.white};\n`\n\nconst Avatar = styled.img`\n  width: 6rem;\n  height: 6rem;\n  border: 1px solid ${({ theme }) => theme.colors.divider};\n  border-radius: 50%;\n`\n\nconst domain = process.env.REACT_APP_DOMAIN || 'http://localhost:3000/'\n\nexport default function Profile(props) {\n  const {\n    account = '',\n    id = '',\n    name = '',\n    level = 0,\n    points = 0,\n    pointsMax = 0,\n    canUpgrade = false,\n    onUpgrade = () => {},\n    isLoggedIn = false,\n    avatar = '',\n    activate = () => {},\n    remark = '',\n    onSaveRemark = () => {},\n  } = props\n\n  const [isPending, setIsPending] = useState(false)\n  const [errorMessage, setErrorMessage] = useState()\n  const handleUpgrade = useCallback(async () => {\n    try {\n      setIsPending(true)\n      setErrorMessage()\n      await onUpgrade()\n    } catch (err) {\n      setErrorMessage(err.message)\n    } finally {\n      setIsPending(false)\n    }\n  }, [onUpgrade])\n\n  const [isEditable, setIsEditable] = useState(false)\n\n  const [localRemark, setLocalRemark] = useState(remark)\n  const canSave = useMemo(() => localRemark !== remark, [localRemark, remark])\n  const [isSaving, setIsSaving] = useState(false)\n  const [saveError, setSaveError] = useState()\n  const handleSave = useCallback(async () => {\n    try {\n      setIsSaving(true)\n      setSaveError()\n      await onSaveRemark(localRemark)\n      setIsEditable(false)\n    } catch (err) {\n      setSaveError(err.message)\n    } finally {\n      setIsSaving(false)\n    }\n  }, [localRemark, onSaveRemark])\n\n  return (\n    <Card>\n      <CardContent>\n        <ProfileRow>\n          {avatar && <Avatar src={`https://ipfs.infura.io/ipfs/${avatar}`} alt='avatar' />}\n          <div>\n            <Text>\n              <Bold>Name:</Bold> <span>{name}</span>\n            </Text>\n            <Text>\n              <Bold>ID:</Bold> <span>{id}</span>\n            </Text>\n            <Text>\n              <Bold>Address:</Bold> <span>{shortenAddress(account, 6)}</span>\n            </Text>\n            <Text>\n              <Bold>Level:</Bold> <span>{level}</span>\n            </Text>\n            <Row>\n              <ProgressBar percentage={points / pointsMax} />\n              <Text>\n                ({points} / {pointsMax})\n              </Text>\n            </Row>\n            <Row>\n              <SmallButton disabled={!canUpgrade || isPending} onClick={handleUpgrade}>\n                {isPending ? 'Pending...' : 'Upgrade'}\n              </SmallButton>\n              {isLoggedIn ? (\n                <TextButton \n                  as='a'\n                  href={`https://3box.io/${account}`}\n                  target='_blank'\n                >\n                  Edit on 3Box\n                </TextButton>\n              ) : (\n                <TextButton \n                  as='a'\n                  href={`https://3box.io/login?wallet=metamask`}\n                  target='_blank'\n                  onClick={activate}\n                >\n                  Connect to 3Box\n                </TextButton>\n              )}\n            </Row>\n            <Text error>{errorMessage}</Text>\n          </div>\n        </ProfileRow>\n        <Title>Referral Links</Title>\n        <LinkRow>\n          <LinkBox>{`${domain}${id}`}</LinkBox>\n          <CopyToClipboard text={`${domain}${id}`}>\n            <CopyButton>\n              <StyledCopyIcon />\n            </CopyButton>\n          </CopyToClipboard>\n        </LinkRow>\n        <LinkRow>\n          <LinkBox>{`${domain}${name}`}</LinkBox>\n          <CopyToClipboard text={`${domain}${name}`}>\n            <CopyButton>\n              <StyledCopyIcon />\n            </CopyButton>\n          </CopyToClipboard>\n        </LinkRow>\n        <LinkRow>\n          <LinkBox>{`${domain}${shortenAddress(account)}`}</LinkBox>\n          <CopyToClipboard text={`${domain}${account}`}>\n            <CopyButton>\n              <StyledCopyIcon />\n            </CopyButton>\n          </CopyToClipboard>\n        </LinkRow>\n      </CardContent>\n      <Divider />\n      <CardContent>\n        {isEditable ? (\n          <>\n            <TextField\n              multiline\n              height='6rem'\n              label='Openning remark to your referees:'\n              placeholder='Hello guys, wellcome to buy this insurance for MakerDAO emergency shutdown.'\n              value={localRemark}\n              onChange={event => setLocalRemark(event.target.value)}\n            />\n            <Text error>{saveError}</Text>\n            <Row>\n              <EditButton\n                onClick={() => setIsEditable(false)}\n              >\n                Cancel\n              </EditButton>\n              <SmallButton\n                disabled={!canSave || isSaving}\n                onClick={handleSave}\n              >\n                {isSaving ? 'Saving...' : 'Save Change'}\n              </SmallButton>\n            </Row>\n          </>\n        ) : (\n          <>\n            <Label>Openning remark to your referees:</Label>\n            {localRemark && (\n              <TextBlock>\n                <Text>{localRemark}</Text>\n              </TextBlock>\n            )}\n            <EditButton onClick={() => setIsEditable(true)}>\n              {!!localRemark ? 'Edit' : 'Add'}\n            </EditButton>\n          </>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n","import { ethers } from 'ethers'\nimport BigNumber from 'bignumber.js'\n\nexport function calculateLeftUnits(expiringUnits = []) {\n  const lefted = expiringUnits.map((x, i, arr) => {\n    return arr.slice(i).reduce((s, y) => s.add(y), ethers.constants.Zero)\n  })\n  return [...lefted, ethers.constants.Zero]\n}\n\nexport function calculateUnderlyingEth(shares = ethers.constants.Zero) {\n  const c1 = new BigNumber('78125000')\n  const c2 = new BigNumber('149999843750000')\n\n  return c1\n    .times(shares.pow(2))\n    .plus(\n      c2\n        .times(shares)\n        .shiftedBy(18)\n        .div(2),\n    )\n    .shiftedBy(-36)\n}\n","import React, {\n  useCallback,\n  useMemo,\n  useState,\n  useEffect,\n  useReducer,\n} from 'react'\nimport { useSnackbar } from 'notistack'\nimport { useWeb3React } from '@web3-react/core'\nimport { ethers } from 'ethers'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\nimport Button from '@material-ui/core/Button'\nimport {\n  useInsuranceContext,\n  useInsuranceSystem,\n  useInsuranceUser,\n} from '../contexts/insurance'\nimport { useProfile } from '../contexts/profile'\nimport { useThreeBoxContext } from '../contexts/3Box'\nimport { useContract } from '../hooks/ethereum'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\nimport Jumbotron from '../components/Jumbotron'\nimport Banner from '../components/Banner'\nimport Tabs from '../components/Tabs'\nimport TabPanel from '../components/TabPanel'\nimport Container from '../components/Container'\nimport Box from '../components/Box'\nimport Text from '../components/Text'\nimport LineChart from '../components/LineChart'\nimport PurchaseForm from '../components/PurchaseForm'\nimport WithdrawForm from '../components/WithdrawForm'\nimport ClaimForm from '../components/ClaimForm'\nimport AgentCard from '../components/AgentCard'\nimport RegisterForm from '../components/RegisterForm'\nimport Profile from '../components/Profile'\nimport { amountFormatter, isAddress, getContract, getEtherscanLink, delay } from '../utils'\nimport {\n  calculateLeftUnits,\n  calculateUnderlyingEth,\n} from '../utils/calculation'\nimport {\n  INSURANCE_ADDRESSES,\n  READ_ONLY,\n  insuranceRatesByDay,\n  BOX_SPACE,\n} from '../constants'\nimport INSURANCE_ABI from '../constants/abis/insurance.json'\nimport saiImage from '../assets/sai.png'\n\nconst targetAsset = process.env.REACT_APP_TARGET_ASSET\n\nconst FormGroup = styled.div`\n  > *:not(:first-child) {\n    margin-top: 3rem;\n  }\n`\n\nconst Title = styled.h1`\n  margin-top: 5rem;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n  text-align: center;\n`\n\nconst SubTitle = styled.p`\n  margin-top: 0;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n  text-align: center;\n`\n\nconst Anchor = styled.a`\n  color: ${({ theme }) => theme.colors.buttonBackground};\n\n  &:hover {\n    color: ${({ theme }) => theme.colors.indicator};\n  }\n`\n\nconst WarningMessage = styled.div`\n  margin-bottom: 1rem;\n  padding: 1rem;\n  color: ${({ theme }) => theme.colors.error};\n  font-size: 1rem;\n  font-weight: 600;\n  text-align: center;\n`\n\nconst Icon = styled.img`\n  width: 1.25rem;\n  height: 1.25rem;\n  vertical-align: text-bottom;\n`\n\nconst ActionGroup = styled.div`\n  color: #ffca28;\n`\n\nconst UPDATE_AGENT = 'UPDATE_AGENT'\n\nfunction agentReducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE_AGENT: {\n      const { isAgent, id, name, address, level, image, greeting } = payload\n      return {\n        isAgent,\n        id,\n        name,\n        address,\n        level,\n        image,\n        greeting,\n      }\n    }\n    default: {\n      return { ...state }\n    }\n  }\n}\n\nfunction renderTransactionActions(chainId, hash, close) {\n  return (key) => (\n    <ActionGroup>\n      <Button\n        color='inherit'\n        size='small'\n        href={getEtherscanLink(chainId, hash, 'transaction')}\n        target='_blank'\n      >\n        View\n      </Button>\n      <Button\n        color='inherit'\n        size='small'\n        onClick={() => close(key)}\n      >\n        Dismiss\n      </Button>\n    </ActionGroup>\n  )\n}\n\nexport default function Home() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n  const { account } = useWeb3React()\n  const { chainId, library: readOnlyLibrary } = useWeb3React(READ_ONLY)\n\n  const [, { refresh }] = useInsuranceContext()\n\n  const {\n    pot,\n    totalShares,\n    totalInsurances,\n    totalAgents,\n    sharePrice,\n    ended,\n    expiringUnits = Array(100).fill(ethers.constants.Zero),\n  } = useInsuranceSystem()\n\n  const {\n    shares,\n    insurances,\n    lastBought,\n    dividends,\n    bonus,\n    expiringUnits: userExpiringUnits = Array(100).fill(ethers.constants.Zero),\n  } = useInsuranceUser()\n\n  const {\n    id,\n    name,\n    level,\n    points,\n    pointsMax,\n    refresh: refreshProfile,\n  } = useProfile(account)\n\n  const {\n    isLoggedIn,\n    profile,\n    activate,\n  } = useThreeBoxContext()\n\n  const [remark, setRemark] = useState()\n  useEffect(() => {\n    window.Box.getSpace(account, BOX_SPACE)\n      .then(space => {\n        setRemark(space.remark || '')\n      })\n  }, [account])\n\n  const onSaveRemark = useCallback(async (remark) => {\n    try {\n      console.log(remark)\n      const box = await window.Box.openBox(account, window.ethereum)\n      await box.syncDone\n      const space = await box.openSpace(BOX_SPACE)\n      await space.syncDone\n      await space.public.set('remark', remark)\n      setRemark(remark)\n    } catch  {\n      throw Error('Fail to Save the remark')\n    }\n  }, [account])\n\n  const agentAddress = useMemo(\n    () => localStorage.getItem('agentAddress') || ethers.constants.AddressZero,\n    [],\n  )\n  const [agentState, dispatchAgentState] = useReducer(agentReducer, {\n    isAgent: false,\n  })\n  const {\n    isAgent,\n    id: agentId,\n    name: agentName,\n    level: agentLevel,\n    image: agentImage,\n    greeting: agentGreeting,\n  } = agentState\n  useEffect(() => {\n    if (\n      isAddress(agentAddress) &&\n      agentAddress !== ethers.constants.AddressZero &&\n      (chainId || chainId === 0) &&\n      readOnlyLibrary\n    ) {\n      let stale = false\n      const contract = getContract(\n        INSURANCE_ADDRESSES[chainId],\n        INSURANCE_ABI,\n        readOnlyLibrary,\n      )\n      Promise.all([\n        contract.player(agentAddress),\n        window.Box.getProfile(agentAddress),\n        window.Box.getSpace(agentAddress, BOX_SPACE)\n      ]).then(([player, profile, space]) => {\n          if (!stale) {\n            dispatchAgentState({\n              type: UPDATE_AGENT,\n              payload: {\n                isAgent: player.isAgent,\n                id: player.id,\n                name: ethers.utils.parseBytes32String(player.name),\n                address: agentAddress,\n                level: player.level,\n                image: profile.image ? `https://ipfs.infura.io/ipfs/${profile.image[0].contentUrl['/']}` : '',\n                greeting: space.remark || '',\n              },\n            })\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            dispatchAgentState({\n              type: UPDATE_AGENT,\n              payload: {\n                isAgent: false,\n                id: null,\n                name: null,\n                address: null,\n                level: null,\n                image: null,\n              },\n            })\n          }\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [agentAddress, chainId, readOnlyLibrary])\n\n  const odd = useMemo(() => {\n    if (pot && totalInsurances && !totalInsurances.isZero() && sharePrice) {\n      return pot\n        .mul(ethers.constants.WeiPerEther)\n        .div(totalInsurances)\n        .mul(ethers.constants.WeiPerEther)\n        .div(sharePrice)\n    }\n  }, [pot, sharePrice, totalInsurances])\n  \n  const estimatedFutureCompensation = useMemo(() => {\n    if (pot && expiringUnits) {\n      return calculateLeftUnits(expiringUnits).map(v => {\n        return v.isZero()\n          ? ethers.constants.Zero\n          : pot\n            .mul(ethers.constants.WeiPerEther)\n            .div(v)\n      })\n    }\n  }, [expiringUnits, pot])\n\n  const estimatedUserCompensation = useMemo(() => {\n    if (pot && totalInsurances && !totalInsurances.isZero() && insurances) {\n      return pot\n        .mul(ethers.constants.WeiPerEther)\n        .div(totalInsurances)\n        .mul(insurances)\n        .div(ethers.constants.WeiPerEther)\n    }\n  }, [pot, totalInsurances, insurances])\n\n  const contract = useContract(INSURANCE_ADDRESSES[chainId], INSURANCE_ABI)\n\n  const [paid, setPaid] = useState()\n  const estimatePaid = useCallback(\n    (shares, days) => {\n      if (\n        totalShares &&\n        shares &&\n        shares > 0 &&\n        (days || days === 0) &&\n        days < insuranceRatesByDay.length\n      ) {\n        const computedShares = new BigNumber(shares).times(1e18)\n        const total = new BigNumber(totalShares.toString())\n        const basePrice = calculateUnderlyingEth(\n          total.plus(computedShares),\n        ).minus(calculateUnderlyingEth(total))\n        const discount = new BigNumber(insuranceRatesByDay[days]).plus(\n          ethers.constants.WeiPerEther.toString(),\n        )\n        const value = basePrice\n          .times(discount)\n          .div(ethers.constants.WeiPerEther.toString())\n        setPaid(value)\n      } else {\n        setPaid()\n      }\n    },\n    [totalShares],\n  )\n\n  const purchase = useCallback(\n    async (shares, days) => {\n      if (!account) {\n        throw Error('Please connect your wallet.')\n      }\n\n      if (\n        totalShares &&\n        (days || days === 0) &&\n        shares &&\n        shares > 0 &&\n        contract\n      ) {\n        const computedShares = new BigNumber(shares).times(1e18)\n        const total = new BigNumber(totalShares.toString())\n        const basePrice = calculateUnderlyingEth(\n          total.plus(computedShares),\n        ).minus(calculateUnderlyingEth(total))\n        const discount = new BigNumber(insuranceRatesByDay[days]).plus(\n          ethers.constants.WeiPerEther.toString(),\n        )\n        const value = ethers.BigNumber.from(\n          basePrice\n            .times(discount)\n            .div(ethers.constants.WeiPerEther.toString())\n            .toFixed(0),\n        )\n        try {\n          const tx = await contract['buy(address,uint256)'](agentAddress, days, {\n            value,\n          })\n          const firstSnackbar = enqueueSnackbar('Waiting for purchasing.', {\n            variant: 'info',\n            persist: true,\n            action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n          })\n          await tx.wait()\n          closeSnackbar(firstSnackbar)\n          await delay(600)\n          enqueueSnackbar('Successfully purchased.', {\n            variant: 'success',\n            autoHideDuration: 10000,\n            action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n          })\n          refresh()\n        } catch {\n          throw Error('Fail to purchse.')\n        }\n      }\n    },\n    [account, agentAddress, chainId, closeSnackbar, contract, enqueueSnackbar, refresh, totalShares],\n  )\n\n  const withdraw = useCallback(async () => {\n    if (!account) {\n      throw Error('Please connect your wallet.')\n    }\n    try {\n      const tx = await contract.withdraw()\n      const firstSnackbar = enqueueSnackbar('Waiting for withdrawing.', {\n        variant: 'info',\n        persist: true,\n        action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n      })\n      await tx.wait()\n      closeSnackbar(firstSnackbar)\n      await delay(600)\n      enqueueSnackbar('Successfully withdrawed.', {\n        variant: 'success',\n        autoHideDuration: 10000,\n        action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n      })\n      refresh()\n    } catch {\n      throw Error('Fail to withdraw.')\n    }\n  }, [account, chainId, closeSnackbar, contract, enqueueSnackbar, refresh])\n\n  const claim = useCallback(async () => {\n    if (!account) {\n      throw Error('Please connect your wallet.')\n    }\n    try {\n      const tx = await contract.claim()\n      const firstSnackbar = enqueueSnackbar('Waiting for claiming.', {\n        variant: 'info',\n        persist: true,\n        action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n      })\n      await tx.wait()\n      closeSnackbar(firstSnackbar)\n      await delay(600)\n      enqueueSnackbar('Successfully claimed.', {\n        variant: 'success',\n        autoHideDuration: 10000,\n        action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n      })\n      refresh()\n    } catch {\n      throw Error('Fail to claim.')\n    }\n  }, [account, chainId, closeSnackbar, contract, enqueueSnackbar, refresh])\n\n  const register = useCallback(\n    async name => {\n      if (!account) {\n        throw Error('Please connect your wallet.')\n      }\n      if (name) {\n        try {\n          const tx = await contract.register(name, {\n            value: ethers.utils.parseEther('0.01'),\n          })\n          const firstSnackbar = enqueueSnackbar('Waiting for registering.', {\n            variant: 'info',\n            persist: true,\n            action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n          })\n          await tx.wait()\n          closeSnackbar(firstSnackbar)\n          await delay(600)\n          enqueueSnackbar('Successfully registered.', {\n            variant: 'success',\n            autoHideDuration: 10000,\n            action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n          })\n          refreshProfile()\n        } catch {\n          throw Error('The name has been registered.')\n        }\n      }\n    },\n    [account, chainId, closeSnackbar, contract, enqueueSnackbar, refreshProfile],\n  )\n\n  const upgrade = useCallback(async () => {\n    if (!account) {\n      throw Error('Please connect your wallet.')\n    }\n    try {\n      const tx = await contract.upgrade()\n      const firstSnackbar = enqueueSnackbar('Waiting for upgrading.', {\n        variant: 'info',\n        persist: true,\n        action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n      })\n      await tx.wait()\n      closeSnackbar(firstSnackbar)\n      await delay(600)\n      enqueueSnackbar('Successfully upgraded.', {\n        variant: 'success',\n        autoHideDuration: 10000,\n        action: renderTransactionActions(chainId, tx.hash, closeSnackbar)\n      })\n      refreshProfile()\n    } catch {\n      throw Error('Fail to upgrade.')\n    }\n  }, [account, chainId, closeSnackbar, contract, enqueueSnackbar, refreshProfile])\n\n  const tabs = [\n    { text: 'Purchase', index: 0 },\n    { text: 'Vault', index: 1 },\n    { text: 'Agent', index: 2, badge: isAgent },\n    { text: 'Profile', index: 3 },\n  ]\n  const [tabIndex, setTabIndex] = useState(0)\n\n  return (\n    <>\n      <Header />\n      <Jumbotron ended={ended} odd={odd ? amountFormatter(odd, 18, 2) : 0} />\n      <Banner\n        pot={pot ? amountFormatter(pot, 18) : '-'}\n        totalShares={totalShares ? amountFormatter(totalShares, 18) : '-'}\n        totalInsurances={\n          totalInsurances ? amountFormatter(totalInsurances, 18) : '-'\n        }\n        totalAgents={totalAgents ? totalAgents.toString() : '-'}\n      />\n      <Tabs\n        value={tabIndex}\n        items={tabs}\n        onChange={i => setTabIndex(i)}\n      />\n      <Box mt={4} mb={10} minHeight='calc(100vh - 15rem)'>\n        <Container flex direction='column' justifyContent='center'>\n          <WarningMessage>\n            <div>\n              <span role='img' aria-label='caution'>\n                🚨\n              </span>{' '}\n              Alpha Version! Smart contracts have NOT been audited. Use at own risk!\n            </div>\n            <div>\n              <span role='img' aria-label='caution'>\n                🚨\n              </span>{' '}\n              This Insurance is for {targetAsset}{' '}\n              <Icon src={saiImage} />{' '}\n              shutdown.\n            </div>\n          </WarningMessage>\n          <TabPanel value={tabIndex} index={0}>\n            {ended ? (\n              <Box flex direction='column' alignItems='center'>\n                <Text>MakerDAO emergency shutdown had happened.</Text>\n                <Text>\n                  Please claim your compensation{' '}\n                  <Anchor onClick={() => setTabIndex(1)}>Here</Anchor>\n                </Text>\n              </Box>\n            ) : (\n              <>\n                <Box flex justifyContent='center'>\n                  <PurchaseForm\n                    shares={shares ? amountFormatter(shares, 18) : '-'}\n                    insurances={\n                      insurances ? amountFormatter(insurances, 18) : '-'\n                    }\n                    lastBought={\n                      lastBought &&\n                      !isNaN(lastBought.toNumber()) &&\n                      lastBought.toNumber()\n                    }\n                    price={\n                      sharePrice ? amountFormatter(sharePrice, 18, 6) : '-'\n                    }\n                    paid={paid ? amountFormatter(paid, 18, 6) : null}\n                    onChange={estimatePaid}\n                    onSubmit={purchase}\n                  />\n                </Box>\n                {expiringUnits && (\n                  <>\n                    <Title>Trends</Title>\n                    <SubTitle>\n                      Total insurances in the system in next 100 days\n                    </SubTitle>\n                    <LineChart\n                      value={calculateLeftUnits(expiringUnits).map(v =>\n                        parseFloat(ethers.utils.formatEther(v)),\n                      )}\n                      chartStyles={{\n                        marker: { color: 'rgb(33, 150, 243)', opacity: 0.8 },\n                        line: { color: 'rgb(33, 150, 243)' },\n                        fill: 'tozeroy',\n                        fillcolor: 'rgba(187, 222, 251, 0.2)',\n                      }}\n                      value2={(estimatedFutureCompensation || []).map(v => parseFloat(ethers.utils.formatEther(v)))}\n                      chart2Styles={{\n                        marker: { color: 'rgb(76, 175, 80)', opacity: 0.8 },\n                        line: { color: 'rgb(76, 175, 80)' },\n                        fill: 'tozeroy',\n                        fillcolor: 'rgba(200, 230, 201, 0.2)',\n                      }}\n                    />\n                  </>\n                )}\n                {userExpiringUnits && (\n                  <>\n                    <Title>Mine</Title>\n                    <SubTitle>My insurance in next 100 days</SubTitle>\n                    <LineChart\n                      value={calculateLeftUnits(userExpiringUnits).map(v =>\n                        parseFloat(ethers.utils.formatEther(v)),\n                      )}\n                      chartStyles={{\n                        marker: { color: 'rgb(237, 129, 53)', opacity: 0.8 },\n                        line: { color: 'rgb(237, 129, 53)' },\n                        fill: 'tozeroy',\n                        fillcolor: 'rgba(253, 216, 136, 0.2)',\n                      }}\n                    />\n                  </>\n                )}\n              </>\n            )}\n          </TabPanel>\n          <TabPanel value={tabIndex} index={1}>\n            <Box flex direction='column' alignItems='center'>\n              <FormGroup>\n                <WithdrawForm\n                  dividends={dividends ? amountFormatter(dividends, 18) : '-'}\n                  bonus={bonus ? amountFormatter(bonus, 18) : '-'}\n                  total={\n                    dividends && bonus\n                      ? amountFormatter(dividends.add(bonus), 18)\n                      : '-'\n                  }\n                  onSubmit={withdraw}\n                />\n                <ClaimForm\n                  insurances={insurances ? amountFormatter(insurances, 18) : '-'}\n                  estimatedCompensation={estimatedUserCompensation ? amountFormatter(estimatedUserCompensation, 18) : '-'}\n                  canClaim={ended}\n                  onSubmit={claim}\n                />\n              </FormGroup>\n            </Box>\n          </TabPanel>\n          <TabPanel value={tabIndex} index={2}>\n            <Box flex direction='column' alignItems='center'>\n              <AgentCard\n                isAgent={isAgent}\n                id={agentId && agentId.toNumber()}\n                name={agentName && agentName.toString()}\n                address={agentAddress}\n                level={agentLevel && agentLevel.toNumber()}\n                image={agentImage}\n                greeting={agentGreeting}\n              />\n            </Box>\n          </TabPanel>\n          <TabPanel value={tabIndex} index={3}>\n            <Box flex direction='column' alignItems='center'>\n              {account && id && !id.isZero() ? (\n                <Profile\n                  account={account}\n                  id={id && id.toNumber()}\n                  name={name && name.toString()}\n                  level={level && level.toNumber()}\n                  points={points && parseFloat(amountFormatter(points, 18, 6))}\n                  pointsMax={\n                    pointsMax && parseFloat(amountFormatter(pointsMax, 18, 6))\n                  }\n                  canUpgrade={points && pointsMax && points.gte(pointsMax)}\n                  onUpgrade={upgrade}\n                  isLoggedIn={isLoggedIn}\n                  avatar={profile.image ? profile.image[0].contentUrl['/'] : ''}\n                  activate={activate}\n                  remark={remark}\n                  onSaveRemark={onSaveRemark}\n                />\n              ) : (\n                <RegisterForm onSubmit={register} />\n              )}\n            </Box>\n          </TabPanel>\n        </Container>\n      </Box>\n      <Footer />\n    </>\n  )\n}\n","import { useState, useMemo, useCallback, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\n\nimport {\n  injected as injectedConnector,\n  network as networkConnector,\n} from '../connectors'\nimport { getContract, getGasPrice } from '../utils'\nimport { READ_ONLY } from '../constants'\n\nexport function useContract(address, abi, withSignerIfPossible = true) {\n  const { account, library } = useWeb3React()\n\n  return useMemo(() => {\n    try {\n      return getContract(\n        address,\n        abi,\n        library,\n        withSignerIfPossible ? account : undefined,\n      )\n    } catch {\n      return null\n    }\n  }, [address, abi, library, account, withSignerIfPossible])\n}\n\nexport function useGasPrice() {\n  const [level, setLevel] = useState('fast')\n  const getPrice = useCallback(() => getGasPrice(level), [level])\n\n  return { getPrice, setLevel }\n}\n\nexport function useEagerConnect() {\n  const { activate, active, setError } = useWeb3React()\n\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injectedConnector.isAuthorized().then(isAuthorized => {\n      if (isAuthorized) {\n        activate(injectedConnector, undefined, true).catch(err => {\n          setError(err)\n          setTried(true)\n        })\n      } else {\n        setTried(true)\n      }\n    })\n  }, [activate, setError])\n\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true)\n    }\n  }, [tried, active])\n\n  return tried\n}\n\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3React()\n\n  useEffect(() => {\n    const { ethereum } = window\n    if (ethereum && !active && !error && !suppress) {\n      const handleNetworkChanged = networkId => {\n        activate(injectedConnector)\n      }\n      const handleAccountsChanged = accounts => {\n        if (accounts.length > 0) {\n          activate(injectedConnector)\n        }\n      }\n\n      if (ethereum.on) {\n        ethereum.on('networkChanged', handleNetworkChanged)\n        ethereum.on('accountsChanged', handleAccountsChanged)\n      }\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n        }\n      }\n    }\n\n    return () => {}\n  }, [active, error, suppress, activate])\n}\n\nexport function useReadOnlyConnect() {\n  const { chainId, active } = useWeb3React()\n  const {\n    active: activeReadOnly,\n    connector: connectorReadOnly,\n    activate: activateReadOnly,\n  } = useWeb3React(READ_ONLY)\n\n  const changeChainId = useCallback(\n    id => {\n      if (connectorReadOnly === networkConnector) {\n        connectorReadOnly.changeChainId(id)\n      }\n    },\n    [connectorReadOnly],\n  )\n\n  useEffect(() => {\n    activateReadOnly(networkConnector)\n  }, [activateReadOnly])\n\n  // chainId of read-only web3 is followed by injected connector\n  useEffect(() => {\n    if (active && activeReadOnly) {\n      changeChainId(chainId)\n    }\n  }, [active, activeReadOnly, chainId, changeChainId])\n\n  return changeChainId\n}\n","import React, { useState, useEffect } from 'react'\nimport { useRouteMatch, Redirect } from 'react-router-dom'\nimport { useWeb3React } from '@web3-react/core'\nimport { ethers } from 'ethers'\nimport { getContract } from '../utils'\nimport { INSURANCE_ADDRESSES, READ_ONLY } from '../constants'\nimport INSURANCE_ABI from '../constants/abis/insurance.json'\n\nexport default function Referral() {\n  const { params } = useRouteMatch()\n  const { slug } = params || {}\n\n  const { chainId, library } = useWeb3React(READ_ONLY)\n\n  const [isFinished, setIsFinish] = useState(false)\n  useEffect(() => {\n    let stale = false\n    async function getAgentInfo() {\n      if ((chainId || chainId === 0) && library && slug) {\n        const contract = getContract(\n          INSURANCE_ADDRESSES[chainId],\n          INSURANCE_ABI,\n          library,\n        )\n        let address\n        if (slug.match(/^\\d+$/)) {\n          const id = parseInt(slug)\n          address = await contract.agentxID_(id)\n        } else if (slug.match(/^0[xX][0-9a-fA-F]{40}$/)) {\n          address = slug\n        } else if (slug.match(/^[0-9a-zA-Z ]{1,32}$/)) {\n          const name = ethers.utils.formatBytes32String(slug)\n          address = await contract.agentxName_(name)\n        }\n        localStorage.setItem('agentAddress', address)\n        setTimeout(() => {\n          if (!stale) {\n            setIsFinish(true)\n          }\n        }, 300)\n      }\n    }\n    getAgentInfo()\n\n    return () => {\n      stale = true\n    }\n  }, [chainId, library, slug])\n\n  if (isFinished) {\n    return <Redirect to='/' />\n  } else {\n    return null\n  }\n}\n","import React from 'react'\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\nimport {\n  useEagerConnect,\n  useInactiveListener,\n  useReadOnlyConnect,\n} from '../hooks/ethereum'\n\nexport default function Web3Manager(props) {\n  const { children } = props\n  const { active, error } = useWeb3React()\n\n  const triedEager = useEagerConnect()\n  useInactiveListener(!triedEager)\n  useReadOnlyConnect()\n\n  if (!active && error instanceof UnsupportedChainIdError) {\n    return <h1>Wrong Network</h1>\n  } else {\n    return children\n  }\n}\n","import { createGlobalStyle } from 'styled-components'\nimport backgroundImage from '../assets/background.svg'\n\nexport const GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  html {\n    font-size: 16px;\n    font-family: 'Lora', serif;\n    font-variant: none;\n    color: ${({ theme }) => theme.colors.textColor};\n    background-color: ${({ theme }) => theme.colors.backgroundColor};\n    background-image: url(${backgroundImage});\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  }\n\n  input[type=\"number\"]::-webkit-outer-spin-button,\n  input[type=\"number\"]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input[type=\"number\"] {\n    -moz-appearance: textfield;\n  }\n`\n","import React from 'react'\nimport {\n  ThemeProvider as StyledComponentsThemeProvider,\n  css,\n} from 'styled-components'\n\nexport { GlobalStyle } from './GlobalStyle'\n\nconst breakpoints = {\n  xs: 0,\n  sm: 600,\n  md: 960,\n  lg: 1280,\n  xl: 1920,\n}\n\nconst mediaQuery = Object.keys(breakpoints).reduce((accumulator, label) => {\n  accumulator[label] = (...args) => css`\n    @media (min-width: ${breakpoints[label]}px) {\n      ${css(...args)}\n    }\n  `\n  return accumulator\n}, {})\n\nconst black = '#000000'\nconst white = '#FFFFFF'\n\nconst theme = {\n  mediaQuery,\n  fontFamilies: {},\n  colors: {\n    black,\n    white,\n    gray: '#D8D8D8',\n    primary: '#17a2b8',\n    success: '#81c784',\n    error: '#e33371',\n    textColor: '#231536',\n    backgroundColor: white,\n    headerBackground: '#74ADBB',\n    buttonBackground: '#14A0DE',\n    buttonText: white,\n    tabsBackground: '#74ADBB',\n    indicator: '#CAF4FF',\n    divider: 'rgba(0, 0, 0, 0.2)',\n  },\n}\n\nexport default function ThemeProvider({ children }) {\n  return (\n    <StyledComponentsThemeProvider theme={theme}>\n      {children}\n    </StyledComponentsThemeProvider>\n  )\n}\n","import React, { Suspense } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport { Web3ReactProvider, createWeb3ReactRoot } from '@web3-react/core'\nimport { SnackbarProvider } from 'notistack'\nimport { ethers } from 'ethers'\n// import Web3 from 'web3'\n\nimport InsuranceContextProvider, {\n  Updater as InsuranceContextUpdater,\n} from './contexts/insurance'\nimport ProfileContextProvider from './contexts/profile'\nimport ThreeBoxContextProvider from './contexts/3Box'\nimport Home from './pages/Home'\nimport Referral from './pages/Referral'\nimport Web3Manager from './components/Web3Manager'\nimport ThemeProvider, { GlobalStyle } from './themes'\nimport { READ_ONLY } from './constants'\n\nconst Web3ReadOnlyProvider = createWeb3ReactRoot(READ_ONLY)\n\nfunction getLibrary(provider) {\n  const library = new ethers.providers.Web3Provider(provider)\n  library.pollingInterval = 10000\n  return library\n}\n\nfunction ContextProviders({ children }) {\n  return (\n    <InsuranceContextProvider>\n      <ProfileContextProvider>\n        <ThreeBoxContextProvider>\n          {children}\n        </ThreeBoxContextProvider>\n      </ProfileContextProvider>\n    </InsuranceContextProvider>\n  )\n}\n\nfunction Updaters() {\n  return (\n    <>\n      <InsuranceContextUpdater />\n    </>\n  )\n}\n\nfunction Router() {\n  return (\n    <Suspense fallback={null}>\n      <BrowserRouter>\n        <Switch>\n          <Route exact path='/'>\n            <Home />\n          </Route>\n          <Route path='/:slug'>\n            <Referral />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </Suspense>\n  )\n}\n\nfunction App() {\n  return (\n    <Web3ReactProvider getLibrary={getLibrary}>\n      <Web3ReadOnlyProvider getLibrary={getLibrary}>\n        <Web3Manager>\n          <ContextProviders>\n            <Updaters />\n            <ThemeProvider>\n              <GlobalStyle />\n              <SnackbarProvider\n                anchorOrigin={{\n                  vertical: 'bottom',\n                  horizontal: 'right',\n                }}\n              >\n                <Router />\n              </SnackbarProvider>\n            </ThemeProvider>\n          </ContextProviders>\n        </Web3Manager>\n      </Web3ReadOnlyProvider>\n    </Web3ReactProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18next from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport XHR from 'i18next-xhr-backend'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\ni18next\n  .use(XHR)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    backend: {\n      loadPath: '/locales/{{lng}}.json',\n    },\n    react: {\n      useSuspense: true,\n    },\n    lng: 'zh',\n    fallbackLng: 'en',\n    preload: ['zh'],\n    keySeparator: false,\n    interpolation: { escapeValue: false },\n  })\n\nexport default i18next\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport ReactGA from 'react-ga'\nimport { createBrowserHistory } from 'history'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport './i18n'\n\nif (process.env.NODE_ENV === 'production') {\n  ReactGA.initialize(process.env.REACT_APP_GA_TOKEN)\n} else {\n  ReactGA.initialize('test', { testMode: true })\n}\n\nconst history = createBrowserHistory()\nhistory.listen(location => {\n  ReactGA.set({ page: location.pathname })\n  ReactGA.pageview(location.pathname)\n})\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}